(()=>{"use strict";var e,t={"./examples/ex__keyboard.js":(e,t,n)=>{var o=n("./node_modules/three/build/three.module.js"),r=n("./node_modules/three/examples/jsm/webxr/VRButton.js"),i=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),a=n("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),s=n("./src/three-mesh-ui.js"),d=n("./node_modules/three/examples/jsm/webxr/XRControllerModelFactory.js");function c(){const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d"),n=t.createLinearGradient(0,0,64,0);return n.addColorStop(0,"black"),n.addColorStop(1,"white"),t.fillStyle=n,t.fillRect(0,0,64,64),e}function l(){const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d");return t.beginPath(),t.arc(32,32,29,0,2*Math.PI),t.lineWidth=5,t.stroke(),t.fillStyle="white",t.fill(),e}var u=n("./examples/assets/fonts/msdf/roboto/regular.json");const w=n.p+"5a41f46a5020bc8f41ff554d0d890ad3.png",h=n.p+"98f066ce97dfe8963f569eb5d7d72a27.png",p=n.p+"c4248cca01ab209c0489119bcafe2411.png",f=n.p+"064ce0fb75dc91efe30a1d6d04b1b180.png";let m,g,b,y,x,v,k,j,C,S;const O=[],P=2500134,_=3552822,E=new o.iMs,T=new o.FM8;T.x=T.y=null;let z=!1,L=!1;function M(){!function(){let e;b.xr.isPresenting?(x.setFromController(0,E.ray),e=void 0,e&&e.point,e&&x.setPointerAt(0,e.point)):null!==T.x&&null!==T.y&&(E.setFromCamera(T,g),e=void 0);e&&e.object.isUI&&(z&&"hovered"===e.object.currentState||L?e.object.states.selected&&e.object.setState("selected"):z||L||e.object.states.hovered&&e.object.setState("hovered"));O.forEach((t=>{(!e||t!==e.object)&&t.isUI}))}(),s.ZP.update(),y.update(),b.render(m,g)}window.addEventListener("pointermove",(e=>{T.x=e.clientX/window.innerWidth*2-1,T.y=-e.clientY/window.innerHeight*2+1})),window.addEventListener("pointerdown",(()=>{z=!0})),window.addEventListener("pointerup",(()=>{z=!1})),window.addEventListener("touchstart",(e=>{L=!0,T.x=e.touches[0].clientX/window.innerWidth*2-1,T.y=-e.touches[0].clientY/window.innerHeight*2+1})),window.addEventListener("touchend",(()=>{L=!1,T.x=null,T.y=null})),window.addEventListener("load",(function(){m=new o.xsS,m.background=new o.Ilk(5263440),g=new o.cPb(60,window.innerWidth/window.innerHeight,.1,100),b=new o.CP7({antialias:!0}),b.setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,window.innerHeight),b.outputEncoding=o.knz,b.xr.enabled=!0,document.body.appendChild(r.N.createButton(b)),document.body.appendChild(b.domElement),b.shadowMap.enabled=!0;const e=function(e){e||(e={});const t=e.x||2,n=e.y||10,r=e.z||-2,i=e.width||10,a=e.near||.1,s=e.far||30,d=e.bias||-0,c=e.resolution||2048,l=e.color||16777215,u=e.intensity||1,w=e.useHelpers||!1,h=e.castShadow||!0,p=new o.Ox3(l,u);p.position.set(t,n,r),p.castShadow=h;const f=i/2;if(p.shadow.camera.left=-f,p.shadow.camera.right=f,p.shadow.camera.top=f,p.shadow.camera.bottom=-f,p.shadow.camera.near=a,p.shadow.camera.far=s,p.shadow.mapSize.width=c,p.shadow.mapSize.height=c,p.shadow.bias=d,p.helpers=new o.ZAu,w){const e=new o.cBI(p,5),t=new o.Rki(p.shadow.camera);p.helpers.add(e,t)}return p}({z:10,width:6,bias:-1e-4}),t=new o.vmT(8421504,6316128);m.add(e,t),y=new i.z(g,b.domElement),g.position.set(0,1.6,0),y.target=new o.Pa4(0,1.2,-1),y.update(),x=function(e){const t=[],n=[],r=new d.i,i=new o.vBJ({color:16777215,alphaMap:new o.ROQ(c()),transparent:!0}),a=new o.nvb(.004,.004,.35);a.translate(0,0,-.15);const s=a.attributes.uv;for(let e=0;e<s.count;e++){let t=s.getX(e),n=s.getY(e);[t,n]=(()=>{switch(e){case 0:case 2:case 5:case 7:case 10:case 11:case 12:case 13:return[1,1];default:return[0,0]}})(),s.setXY(e,t,n)}const u=new o.Kj0(a,i);u.renderOrder=1/0;const w=new o.xeV({map:new o.ROQ(l()),sizeAttenuation:!1,depthTest:!1}),h=new o.jyi(w);h.scale.set(.015,.015,1),h.renderOrder=1/0;const p=e.xr.getController(0),f=e.xr.getController(1);p.name="controller-right",f.name="controller-left";const m=e.xr.getControllerGrip(0),g=e.xr.getControllerGrip(1);p&&t.push(p),f&&t.push(f),m&&n.push(m),g&&n.push(g),t.forEach((e=>{const t=u.clone(),n=h.clone();e.add(t,n),e.ray=t,e.point=n})),n.forEach((e=>{e.add(r.createControllerModel(e))}));const b=new o.yGw;return{controllers:t,controllerGrips:n,setFromController:function(e,n){const o=t[e];b.identity().extractRotation(o.matrixWorld),n.origin.setFromMatrixPosition(o.matrixWorld),n.direction.set(0,0,-1).applyMatrix4(b)},setPointerAt:function(e,n){const o=t[e],r=o.worldToLocal(n);o.point.position.copy(r),o.point.visible=!0}}}(b),m.add(x.controllerGrips[0],x.controllers[0]),x.controllers[0].addEventListener("selectstart",(()=>{z=!0})),x.controllers[0].addEventListener("selectend",(()=>{z=!1}));const n=new o.ejS(new a.d(6,6,6,10,10,10).translate(0,3,0),new o.nls({color:8421504}));C=new o.Kj0(new o.DvJ(6,6,6,10,10,10).translate(0,3,0),new o.vBJ({side:o._Li,transparent:!0,opacity:0})),m.add(n,C),O.push(C),function(){const e=new o.ZAu;e.position.set(0,1.4,-1.2),e.rotation.x=-.15,m.add(e);const t=new s.ZP.Block({fontFamily:u,fontTexture:w,width:1,height:.32,padding:.02,backgroundColor:new o.Ilk(P),backgroundOpacity:1});t.position.set(0,-.15,0),e.add(t);const n=new s.ZP.Text({width:1,height:.1,justifyContent:"center",fontSize:.045,textContent:"Type some text on the keyboard"});k=new s.ZP.Text({width:1,fontSize:.033,padding:.02,backgroundOpacity:0,textContent:""}),t.add(n,k);let r=[["English","eng"],["Nordic","nord"],["German","de"],["Spanish","es"],["Rancais-French","fr"],["Russian","ru"],["Greek","el"]];r=r.map((e=>{const t=new s.ZP.Text({width:"auto",padding:"0.01 0.05",margin:.012,justifyContent:"center",backgroundColor:new o.Ilk(_),backgroundOpacity:1,fontSize:.035,textContent:e[0]});var n;return O.push(t),"eng"===e[1]&&(j=t,n=e[1],v=new s.ZP.Keyboard({language:n,fontFamily:u,fontTexture:w,fontSize:.035,backgroundOpacity:1,backspaceTexture:h,shiftTexture:f,enterTexture:p}),v.position.set(0,.88,-1),v.rotation.x=-.55,m.add(v)),t})),S=new s.ZP.Block({fontFamily:u,fontTexture:w,padding:.02,width:1,offset:0,backgroundColor:new o.Ilk(P),backgroundOpacity:1}).add(new s.ZP.Text({offset:0,justifyContent:"center",backgroundOpacity:0,fontSize:.04,textContent:"Select a keyboard layout :"}),new s.ZP.Block({height:.075,width:1,offset:0,contentDirection:"row",justifyContent:"center",backgroundOpacity:0}).add(r[0],r[1],r[2],r[3]),new s.ZP.Block({height:.075,width:1,offset:0,contentDirection:"row",justifyContent:"center",backgroundOpacity:0}).add(r[4],r[5],r[6])),S.position.set(0,.2,0),e.add(S),O.push(S)}(),b.setAnimationLoop(M)})),window.addEventListener("resize",(function(){g.aspect=window.innerWidth/window.innerHeight,g.updateProjectionMatrix(),b.setSize(window.innerWidth,window.innerHeight)}))}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,r,i]=e[l],s=!0,d=0;d<n.length;d++)(!1&i||a>=i)&&Object.keys(o.O).every((e=>o.O[e](n[d])))?n.splice(d--,1):(s=!1,i<a&&(a=i));if(s){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j="ex__keyboard",(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={ex__keyboard:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[a,s,d]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(d)var l=d(o)}for(t&&t(n);c<a.length;c++)i=a[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(l)},n=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,["chunk_imported-assets","chunk_three-mesh-ui","chunk_vendors"],(()=>o("./examples/ex__keyboard.js")));r=o.O(r)})();