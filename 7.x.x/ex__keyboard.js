(()=>{"use strict";var e,s={"./examples/ex__keyboard.js":(e,s,a)=>{var t=a("./node_modules/three/build/three.module.js"),r=a("./node_modules/three/examples/jsm/webxr/VRButton.js"),h=a("./node_modules/three/examples/jsm/controls/OrbitControls.js"),o=a("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),c=a("./src/three-mesh-ui.js");var i=a("./examples/assets/fonts/msdf/roboto/regular.json");const w=a.p+"5a41f46a5020bc8f41ff554d0d890ad3.png",l=a.p+"98f066ce97dfe8963f569eb5d7d72a27.png",n=a.p+"c4248cca01ab209c0489119bcafe2411.png",d=a.p+"064ce0fb75dc91efe30a1d6d04b1b180.png";var C=a("./node_modules/three/examples/jsm/libs/stats.module.js"),p=a("./node_modules/three/examples/jsm/webxr/XRControllerModelFactory.js");function u(e){const s=[],a=[],r=new p.i,h=new t.vBJ({color:16777215,alphaMap:new t.ROQ(m()),transparent:!0}),o=new t.nvb(.004,.004,.35);o.translate(0,0,-.15);const c=o.attributes.uv;for(let e=0;e<c.count;e++){let s=c.getX(e),a=c.getY(e);[s,a]=(()=>{switch(e){case 0:case 2:case 5:case 7:case 10:case 11:case 12:case 13:return[1,1];default:return[0,0]}})(),c.setXY(e,s,a)}const i=new t.Kj0(o,h);i.renderOrder=1/0;const w=new t.xeV({map:new t.ROQ(_()),sizeAttenuation:!1,depthTest:!1}),l=new t.jyi(w);l.scale.set(.015,.015,1),l.renderOrder=1/0;const n=e.xr.getController(0),d=e.xr.getController(1);n.name="controller-right",d.name="controller-left";const C=e.xr.getControllerGrip(0),u=e.xr.getControllerGrip(1);n&&s.push(n),d&&s.push(d),C&&a.push(C),u&&a.push(u),s.forEach((e=>{const s=i.clone(),a=l.clone();e.add(s,a),e.ray=s,e.point=a})),a.forEach((e=>{e.add(r.createControllerModel(e))}));const b=new t.yGw;return{controllers:s,controllerGrips:a,setFromController:function(e,a){const t=s[e];b.identity().extractRotation(t.matrixWorld),a.origin.setFromMatrixPosition(t.matrixWorld),a.direction.set(0,0,-1).applyMatrix4(b)},setPointerAt:function(e,a){const t=s[e],r=t.worldToLocal(a);t.point.position.copy(r),t.point.visible=!0}}}function m(){const e=document.createElement("canvas");e.width=64,e.height=64;const s=e.getContext("2d"),a=s.createLinearGradient(0,0,64,0);return a.addColorStop(0,"black"),a.addColorStop(1,"white"),s.fillStyle=a,s.fillRect(0,0,64,64),e}function _(){const e=document.createElement("canvas");e.width=64,e.height=64;const s=e.getContext("2d");return s.beginPath(),s.arc(32,32,29,0,2*Math.PI),s.lineWidth=5,s.stroke(),s.fillStyle="white",s.fill(),e}const b={type:"click"},g={type:"hover"};class k{constructor(e,s,a,r=null){this._camera=e,this._scene=s,this._renderer=a,this._vrControl=r,this._raycaster=new t.iMs,this._listeners=[],this._objectsToTest=[],this._target=null,this._mouse=null,this._selectState=!1,this._lastHoveredElement=null,this._lastSelectedElement=null}addListener(e){-1===this._listeners.indexOf(e)&&this._listeners.push(e)}removeListener(e){const s=this._listeners.indexOf(e);-1!==s&&this._listeners.splice(s,1)}start(e=null){if(this._target)throw new Error("InteractiveRaycaster::start() - is already started. Aborted.");e=e||window,this._target=e,this._mouse=new t.FM8,this._mouse.x=this._mouse.y=null,e.addEventListener("pointermove",this._pointerMove),e.addEventListener("pointerdown",this._selectStart),e.addEventListener("pointerup",this._selectEnd),e.addEventListener("touchstart",this._touchMove),e.addEventListener("touchend",this._touchEnd),this._vrControl&&this._vrControl instanceof u&&(this._vrControl.controllers[0].addEventListener("selectstart",this._selectStart),this._vrControl.controllers[0].addEventListener("selectend",this._selectEnd))}_selectStart=()=>{this._selectState=!0};_selectEnd=()=>{this._click(),this._selectState=!1};_pointerMove=e=>{this._mouse.x=e.clientX/this._target.innerWidth*2-1,this._mouse.y=-e.clientY/this._target.innerHeight*2+1};_touchMove=e=>{this._selectStart(),this._mouse.x=e.touches[0].clientX/this._target.innerWidth*2-1,this._mouse.y=-e.touches[0].clientY/this._target.innerHeight*2+1};_touchEnd=e=>{this._selectEnd(),this._mouse.x=null,this._mouse.y=null};_setHoveredElement(e){this._lastHoveredElement&&this._lastHoveredElement.isUI&&this._lastHoveredElement.deactivatePseudoState("hover"),this._lastHoveredElement=e,null!==this._lastHoveredElement&&this._lastHoveredElement.isUI&&(this._lastHoveredElement.activatePseudoState("hover"),this._lastHoveredElement.dispatchEvent(g));for(let e=0;e<this._listeners.length;e++)this._listeners[e].hoveredElementHasChanged(this._lastHoveredElement)}_setSelectedElement(e){this._lastSelectedElement&&this._lastSelectedElement.isUI&&this._lastSelectedElement.deactivatePseudoState("active"),this._lastSelectedElement=e,null!==this._lastSelectedElement&&this._lastSelectedElement.isUI&&this._lastSelectedElement.activatePseudoState("active");for(let e=0;e<this._listeners.length;e++)this._listeners[e].selectedElementHasChanged(this._lastSelectedElement)}_click(){if(this._lastSelectedElement){this._lastSelectedElement.dispatchEvent(b);for(let e=0;e<this._listeners.length;e++)this._listeners[e].clicked(this._lastSelectedElement)}}addObject(e){for(let e=0;e<arguments.length;e++){const s=arguments[e];s.interactiveListener&&this.addListener(s.interactiveListener),s.interactiveObjects?this._objectsToTest.push(...s.interactiveObjects):this._objectsToTest.push(s)}}removeObject(e){for(let e=0;e<arguments.length;e++){const s=arguments[e];s.interactiveListener&&this.removeListener(s.interactiveListener);let a=[s];s.interactiveObjects&&(a=[...s.interactiveObjects]);for(let e=0;e<a.length;e++){const s=a[e],t=this._objectsToTest.indexOf(s);-1!==t&&this._objectsToTest.splice(t,1)}}}update(){let e;if(this._renderer.xr.isPresenting&&this._vrControl?(this._vrControl.setFromController(0,this._raycaster.ray),e=this._raycast(),e&&this._vrControl.setPointerAt(0,e.point)):null!==this._mouse.x&&null!==this._mouse.y&&(this._raycaster.setFromCamera(this._mouse,this._camera),e=this._raycast()),e){const s=e.object;this._lastHoveredElement!==s&&this._setHoveredElement(s),this._selectState?this._lastSelectedElement!==s&&this._setSelectedElement(s):null!==this._lastSelectedElement&&this._setSelectedElement(null)}else null!==this._lastSelectedElement&&this._setSelectedElement(null),null!==this._lastHoveredElement&&this._setHoveredElement(null)}set camera(e){this._camera=e}get camera(){return this._camera}_raycast(){return this._objectsToTest.reduce(((e,s)=>{if(!this._scene.getObjectById(s.id))return e;const a=this._raycaster.intersectObject(s,!0);return a[0]&&(!e||a[0].distance<e.distance)?(a[0].object=s,a[0]):e}),null)}}class y{hoveredElementHasChanged(e){throw new Error("Abstract method need to be implemented.")}selectedElementHasChanged(e){throw new Error("Abstract method need to be implemented.")}clicked(e){throw new Error("Abstract method need to be implemented.")}}class f extends y{constructor(e,s="crosshair"){super(),this._cursor=s,this._htmlElement=e,this._lastValue="inherit"}hoveredElementHasChanged(e){null!==e&&"inherit"===this._lastValue?(this._htmlElement.style.cursor=this._cursor,this._lastValue=this._cursor):null===e&&"inherit"!==this._lastValue&&(this._htmlElement.style.cursor="inherit",this._lastValue="inherit")}selectedElementHasChanged(e){}clicked(e){}}class v extends y{constructor(e){super(),this._keyboard=e,this._texts=[]}bindText(e){this._texts.push(e)}unbindText(e){const s=this._texts.indexOf(e);-1!==s&&this._texts.splice(s,1)}clicked(e){if(-1!==this._keyboard.keys.indexOf(e))if(e.info.command)switch(e.info.command){case"switch":this._keyboard.setNextPanel();break;case"switch-set":this._keyboard.setNextCharset();break;case"enter":for(let e=0;e<this._texts.length;e++){const s=this._texts[e];s.set({textContent:s.textContent+"\n"})}break;case"space":for(let e=0;e<this._texts.length;e++){const s=this._texts[e];s.set({textContent:s.textContent+" "})}break;case"backspace":for(let e=0;e<this._texts.length;e++){const s=this._texts[e];s.textContent.length&&s.set({textContent:s.textContent.substring(0,s.textContent.length-1)||""})}break;case"capslock":e.togglePseudoState("checked"),this._keyboard.toggleCase()}else if(e.info.input)for(let s=0;s<this._texts.length;s++){const a=this._texts[s];a.set({textContent:a.textContent+e.info.input})}}hoveredElementHasChanged(e){}selectedElementHasChanged(e){}}const x=new t.dpR;class E extends c.gO{constructor(e={}){E.ensureOptions(e),super(),E.make(this,e)}_buildPanel(){const e=new c.gO({});return e.charset=0,e}_buildKey(e,s){return new c.xv({name:e})}_buildBlock(){return new c.gO({})}_buildKeyInline(e,s){return new c.gF({name:e})}_buildKeyInlineBlock(e,s){return new c.ol({name:e})}static ensureOptions(e){e.width||(e.width=1),e.height||(e.height=.4),e.margin||(e.margin=.003),e.padding||(e.padding=.01)}static make(e,s){if(e.currentPanel=0,e.isLowerCase=!0,e._layout=null,s.autoDetectLayout&&s.availableLayouts&&s.availableLayouts.length>0){const a=navigator.language;let t=null;a&&(t=s.availableLayouts.find((e=>-1!==e.locales.indexOf(a)))),e._layout=t}e._layout||(e._layout=s.layout),e.charsetCount=e._layout.charsetCount,e.keys=[],({panels:e.panels,keys:e.keys}=E.build(e,e._layout,s)),e.add(e.panels[0]),e._interactiveListener=new v(e),Object.defineProperty(e,"interactiveListener",{get:()=>e._interactiveListener}),Object.defineProperty(e,"interactiveObjects",{get:()=>e.keys}),e.setNextPanel=E._setNextPanel.bind(e),e.setNextCharset=E._setNextCharset.bind(e),e.toggleCase=E._toggleCase.bind(e)}static build(e,s,a){const t=[],r=[];for(let h=0;h<s.keys.length;h++){const o=s.keys[h],c=a.height/o.length-2*a.margin,i=e._buildPanel();i.set({boxSizing:"border-box",width:a.width+2*a.padding,height:a.height+2*a.padding,offset:.001,padding:a.padding,fontFamily:a.fontFamily,fontTexture:a.fontTexture,backgroundColor:a.backgroundColor,backgroundOpacity:a.backgroundOpacity}),i.charset=0,t.push(i);for(let s=0;s<o.length;s++){const t=o[s],h=e._buildBlock();h.set({width:a.width,height:c,margin:a.margin,flexDirection:"row",justifyContent:"center"}),i.add(h);for(let s=0;s<t.length;s++){const o=t[s],w=o.chars[i.charset].lowerCase||o.chars[i.charset].icon||"und",l=e._buildKey(w,o);l.set({boxSizing:"border-box",width:a.width*o.width-2*a.margin,height:c,margin:a.margin,alignItems:"center",textAlign:"center",backgroundColor:0,backgroundOpacity:.8}),r.push(l),h.add(l),l.type="Key",l.info=o,l.info.input=w,l.panel=i;let n=null;if("enter"===w&&a.enterTexture||"capslock"===w&&a.shiftTexture||"backspace"===w&&a.backspaceTexture){const s=(()=>{switch(w){case"backspace":return a.backspaceTexture;case"enter":return a.enterTexture;case"capslock":return a.shiftTexture;default:console.warn("There is no icon image for this key")}})();x.load(s,(s=>{n=e._buildKeyInlineBlock(w,o),n.raycast=j,n.set({width:.65*c,height:.65*c,backgroundSize:"contain",backgroundImage:s,backgroundColor:16777215}),l.add(n)}))}else n=e._buildKeyInline(w,o),n.raycast=j,n.set({textContent:w}),l.add(n)}}}return{panels:t,keys:r}}static _setNextPanel(){this.panels.forEach((e=>{this.remove(e)})),this.currentPanel=(this.currentPanel+1)%this.panels.length,this.add(this.panels[this.currentPanel])}static _setNextCharset(){this.panels[this.currentPanel].charset=(this.panels[this.currentPanel].charset+1)%this.charsetCount,this.keys.forEach((e=>{if(!this.panels[this.currentPanel].getObjectById(e.id))return;const s=e.info.chars[e.panel.charset]||e.info.chars[0];let a=this.isLowerCase||!s.upperCase?s.lowerCase:s.upperCase;if(a||(a=s.icon),!e._children._inlines.length)return;const t=e._children._inlines[0];t.isInlineBlock||(e.info.input=a,t.set({textContent:a}))}))}static _toggleCase(){this.isLowerCase=!this.isLowerCase,this.keys.forEach((e=>{const s=e.info.chars[e.panel.charset]||e.info.chars[0];let a=this.isLowerCase||!s.upperCase?s.lowerCase:s.upperCase;if(a||(a=s.icon),!e._children._inlines.length)return;const t=e._children._inlines[0];t.isInlineBlock||(e.info.input=a,t.set({textContent:a}))}))}}function j(){}const S={locales:["en","en-GB","en-US"],charsetCount:1,keys:[[[{width:.1,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"l",upperCase:"L"}]}],[{width:.15,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"n",upperCase:"N"}]},{width:.1,chars:[{lowerCase:"m",upperCase:"M"}]},{width:.15,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},O={locales:["fr","fr-FR","fr-CH","fr-CA","fr-BE"],charsetCount:1,keys:[[[{width:.1,chars:[{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"l",upperCase:"L"}]},{width:.1,chars:[{lowerCase:"m",upperCase:"M"}]}],[{width:.2,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"n",upperCase:"N"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},P={locales:["de","de-DE","de-AT","de-LI","de-CH"],charsetCount:1,keys:[[[{width:1/11,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:1/11,chars:[{lowerCase:"w",upperCase:"W"}]},{width:1/11,chars:[{lowerCase:"e",upperCase:"E"}]},{width:1/11,chars:[{lowerCase:"r",upperCase:"R"}]},{width:1/11,chars:[{lowerCase:"t",upperCase:"T"}]},{width:1/11,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:1/11,chars:[{lowerCase:"u",upperCase:"U"}]},{width:1/11,chars:[{lowerCase:"i",upperCase:"I"}]},{width:1/11,chars:[{lowerCase:"o",upperCase:"O"}]},{width:1/11,chars:[{lowerCase:"p",upperCase:"P"}]},{width:1/11,chars:[{lowerCase:"ü",upperCase:"Ü"}]}],[{width:1/11,chars:[{lowerCase:"a",upperCase:"A"}]},{width:1/11,chars:[{lowerCase:"s",upperCase:"S"}]},{width:1/11,chars:[{lowerCase:"d",upperCase:"D"}]},{width:1/11,chars:[{lowerCase:"f",upperCase:"F"}]},{width:1/11,chars:[{lowerCase:"g",upperCase:"G"}]},{width:1/11,chars:[{lowerCase:"h",upperCase:"H"}]},{width:1/11,chars:[{lowerCase:"j",upperCase:"J"}]},{width:1/11,chars:[{lowerCase:"k",upperCase:"K"}]},{width:1/11,chars:[{lowerCase:"l",upperCase:"L"}]},{width:1/11,chars:[{lowerCase:"ö",upperCase:"Ö"}]},{width:1/11,chars:[{lowerCase:"ä",upperCase:"Ä"}]}],[{width:2/11,command:"capslock",chars:[{icon:"capslock"}]},{width:1/11,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:1/11,chars:[{lowerCase:"x",upperCase:"X"}]},{width:1/11,chars:[{lowerCase:"c",upperCase:"C"}]},{width:1/11,chars:[{lowerCase:"v",upperCase:"V"}]},{width:1/11,chars:[{lowerCase:"b",upperCase:"B"}]},{width:1/11,chars:[{lowerCase:"n",upperCase:"N"}]},{width:1/11,chars:[{lowerCase:"m",upperCase:"M"}]},{width:2/11,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},L={locales:["el"],charsetCount:2,keys:[[[{width:.1,chars:[{lowerCase:";",upperCase:":"},{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"ς",upperCase:"ς"},{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"ε",upperCase:"Ε"},{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"ρ",upperCase:"Ρ"},{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"τ",upperCase:"Τ"},{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"υ",upperCase:"Υ"},{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"θ",upperCase:"Θ"},{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"ι",upperCase:"Ι"},{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"ο",upperCase:"Ο"},{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"π",upperCase:"Π"},{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"α",upperCase:"Α"},{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"σ",upperCase:"Σ"},{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"δ",upperCase:"Δ"},{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"φ",upperCase:"Φ"},{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"γ",upperCase:"Γ"},{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"η",upperCase:"Η"},{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"ξ",upperCase:"Ξ"},{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"κ",upperCase:"Κ"},{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"λ",upperCase:"Λ"},{lowerCase:"l",upperCase:"L"}]}],[{width:.15,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"ζ",upperCase:"Ζ"},{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"χ",upperCase:"Χ"},{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"ψ",upperCase:"Ψ"},{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"ω",upperCase:"Ω"},{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"β",upperCase:"Β"},{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"ν",upperCase:"Ν"},{lowerCase:"n",upperCase:"N"}]},{width:.1,chars:[{lowerCase:"μ",upperCase:"Μ"},{lowerCase:"m",upperCase:"M"}]},{width:.15,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.15,command:"switch-set",chars:[{lowerCase:"eng"}]},{width:.15,command:"switch",chars:[{lowerCase:".?12"}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},T={locales:["sv","fi","no","dk","nord"],charsetCount:1,keys:[[[{width:1/11,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:1/11,chars:[{lowerCase:"w",upperCase:"W"}]},{width:1/11,chars:[{lowerCase:"e",upperCase:"E"}]},{width:1/11,chars:[{lowerCase:"r",upperCase:"R"}]},{width:1/11,chars:[{lowerCase:"t",upperCase:"T"}]},{width:1/11,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:1/11,chars:[{lowerCase:"u",upperCase:"U"}]},{width:1/11,chars:[{lowerCase:"i",upperCase:"I"}]},{width:1/11,chars:[{lowerCase:"o",upperCase:"O"}]},{width:1/11,chars:[{lowerCase:"p",upperCase:"P"}]},{width:1/11,chars:[{lowerCase:"å",upperCase:"Å"}]}],[{width:1/11,chars:[{lowerCase:"a",upperCase:"A"}]},{width:1/11,chars:[{lowerCase:"s",upperCase:"S"}]},{width:1/11,chars:[{lowerCase:"d",upperCase:"D"}]},{width:1/11,chars:[{lowerCase:"f",upperCase:"F"}]},{width:1/11,chars:[{lowerCase:"g",upperCase:"G"}]},{width:1/11,chars:[{lowerCase:"h",upperCase:"H"}]},{width:1/11,chars:[{lowerCase:"j",upperCase:"J"}]},{width:1/11,chars:[{lowerCase:"k",upperCase:"K"}]},{width:1/11,chars:[{lowerCase:"l",upperCase:"L"}]},{width:1/11,chars:[{lowerCase:"æ",upperCase:"Æ"}]},{width:1/11,chars:[{lowerCase:"ø",upperCase:"Ø"}]}],[{width:2/11,command:"capslock",chars:[{icon:"capslock"}]},{width:1/11,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:1/11,chars:[{lowerCase:"x",upperCase:"X"}]},{width:1/11,chars:[{lowerCase:"c",upperCase:"C"}]},{width:1/11,chars:[{lowerCase:"v",upperCase:"V"}]},{width:1/11,chars:[{lowerCase:"b",upperCase:"B"}]},{width:1/11,chars:[{lowerCase:"n",upperCase:"N"}]},{width:1/11,chars:[{lowerCase:"m",upperCase:"M"}]},{width:2/11,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},H={locales:["ru"],charsetCount:2,keys:[[[{width:1/12,chars:[{lowerCase:"й",upperCase:"Й"},{lowerCase:"q",upperCase:"Q"}]},{width:1/12,chars:[{lowerCase:"ц",upperCase:"Ц"},{lowerCase:"w",upperCase:"W"}]},{width:1/12,chars:[{lowerCase:"у",upperCase:"У"},{lowerCase:"e",upperCase:"E"}]},{width:1/12,chars:[{lowerCase:"к",upperCase:"К"},{lowerCase:"r",upperCase:"R"}]},{width:1/12,chars:[{lowerCase:"е",upperCase:"Е"},{lowerCase:"t",upperCase:"T"}]},{width:1/12,chars:[{lowerCase:"н",upperCase:"Н"},{lowerCase:"y",upperCase:"Y"}]},{width:1/12,chars:[{lowerCase:"г",upperCase:"Г"},{lowerCase:"u",upperCase:"U"}]},{width:1/12,chars:[{lowerCase:"ш",upperCase:"Ш"},{lowerCase:"i",upperCase:"I"}]},{width:1/12,chars:[{lowerCase:"щ",upperCase:"Щ"},{lowerCase:"o",upperCase:"O"}]},{width:1/12,chars:[{lowerCase:"з",upperCase:"З"},{lowerCase:"p",upperCase:"P"}]},{width:1/12,chars:[{lowerCase:"х",upperCase:"Х"},{lowerCase:"{",upperCase:"["}]},{width:1/12,chars:[{lowerCase:"ъ",upperCase:"Ъ"},{lowerCase:"}",upperCase:"]"}]}],[{width:1/12,chars:[{lowerCase:"ф",upperCase:"Ф"},{lowerCase:"a",upperCase:"A"}]},{width:1/12,chars:[{lowerCase:"ы",upperCase:"Ы"},{lowerCase:"s",upperCase:"S"}]},{width:1/12,chars:[{lowerCase:"в",upperCase:"В"},{lowerCase:"d",upperCase:"D"}]},{width:1/12,chars:[{lowerCase:"а",upperCase:"А"},{lowerCase:"f",upperCase:"F"}]},{width:1/12,chars:[{lowerCase:"п",upperCase:"П"},{lowerCase:"g",upperCase:"G"}]},{width:1/12,chars:[{lowerCase:"р",upperCase:"Р"},{lowerCase:"h",upperCase:"H"}]},{width:1/12,chars:[{lowerCase:"о",upperCase:"О"},{lowerCase:"j",upperCase:"J"}]},{width:1/12,chars:[{lowerCase:"л",upperCase:"Л"},{lowerCase:"k",upperCase:"K"}]},{width:1/12,chars:[{lowerCase:"д",upperCase:"Д"},{lowerCase:"l",upperCase:"L"}]},{width:1/12,chars:[{lowerCase:"ж",upperCase:"Ж"},{lowerCase:":",upperCase:";"}]},{width:1/12,chars:[{lowerCase:"э",upperCase:"Э"},{lowerCase:'"',upperCase:"'"}]},{width:1/12,chars:[{lowerCase:"ё",upperCase:"Ё"},{lowerCase:"|",upperCase:"\\"}]}],[{width:.125,command:"capslock",chars:[{icon:"capslock"}]},{width:1/12,chars:[{lowerCase:"я",upperCase:"Я"},{lowerCase:"z",upperCase:"Z"}]},{width:1/12,chars:[{lowerCase:"ч",upperCase:"Ч"},{lowerCase:"x",upperCase:"X"}]},{width:1/12,chars:[{lowerCase:"с",upperCase:"С"},{lowerCase:"c",upperCase:"C"}]},{width:1/12,chars:[{lowerCase:"м",upperCase:"М"},{lowerCase:"v",upperCase:"V"}]},{width:1/12,chars:[{lowerCase:"и",upperCase:"И"},{lowerCase:"b",upperCase:"B"}]},{width:1/12,chars:[{lowerCase:"т",upperCase:"Т"},{lowerCase:"n",upperCase:"N"}]},{width:1/12,chars:[{lowerCase:"ь",upperCase:"Ь"},{lowerCase:"m",upperCase:"M"}]},{width:1/12,chars:[{lowerCase:"б",upperCase:"Б"},{lowerCase:",",upperCase:""}]},{width:1/12,chars:[{lowerCase:"ю",upperCase:"Ю"},{lowerCase:".",upperCase:""}]},{width:.125,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.15,command:"switch-set",chars:[{lowerCase:"eng"}]},{width:.15,command:"switch",chars:[{lowerCase:".?12"}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.3,command:"switch",chars:[{lowerCase:"АБВ"}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},I={locales:["es","es-419","es-AR","es-CL","es-CO","es-ES","es-CR","es-US","es-HN","es-MX","es-PE","es-UY","es-VE"],charsetCount:1,keys:[[[{width:.1,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"l",upperCase:"L"}]},{width:.1,chars:[{lowerCase:"ñ",upperCase:"Ñ"}]}],[{width:.15,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"n",upperCase:"N"}]},{width:.1,chars:[{lowerCase:"m",upperCase:"M"}]},{width:.15,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]};class B extends c.cg{constructor(e){super(e)}act(){}attach(){window.document.addEventListener("keyup",this._onKeyboardEvent)}detach(){window.document.removeEventListener("keyup",this._onKeyboardEvent)}_onKeyboardEvent=e=>{switch(e.key.toLowerCase()){case"enter":this._subject.set({textContent:this._subject.textContent+"\n"});break;case"space":this._subject.set({textContent:this._subject.textContent+" "});break;case"delete":case"backspace":const s=this._subject;if(!s.textContent.length)break;s.set({textContent:s.textContent.substring(0,s.textContent.length-1)||""});break;default:let a=e.key;a=a.replace("numpad",""),1===a.length&&this._subject.set({textContent:this._subject.textContent+a})}}}class z extends c.cg{constructor(e){super(e)}act(){}attach(){window.document.addEventListener("keydown",this._onKeyDown),window.document.addEventListener("keyup",this._onKeyUp)}detach(){window.document.removeEventListener("keydown",this._onKeyDown),window.document.removeEventListener("keyup",this._onKeyUp)}_onKeyDown=e=>{let s=e.key.toLowerCase();switch(" "===s&&(s="space"),"delete"===s&&(s="backspace"),s){case"space":case"backspace":case"capslock":case"enter":const a=this._subject.getObjectByName(s);a&&a.isUI&&a.activatePseudoState("active");break;default:const t=this._subject.getObjectByName(e.key);t&&t.isUI&&t.activatePseudoState("active")}};_onKeyUp=e=>{let s=e.key.toLowerCase();switch(" "===s&&(s="space"),"delete"===s&&(s="backspace"),s){case"capslock":const a=this._subject.getObjectByName(s);a&&a.isUI&&(a.togglePseudoState("checked"),a.deactivatePseudoState("active"));break;case"backspace":case"space":case"enter":const t=this._subject.getObjectByName(s);t&&t.isUI&&t.deactivatePseudoState("active");break;default:const r=this._subject.getObjectByName(e.key);r&&r.isUI&&r.deactivatePseudoState("active")}}}class K extends y{constructor(e){super(),this._domElement=e}clicked(e){}hoveredElementHasChanged(e){e?this._domElement.setAttribute("title",e.name):this._domElement.removeAttribute("title")}selectedElementHasChanged(e){}}let A,M,N,F,R,U,Z,D,G,W,V,X,Y;const J=8750469,Q=2500134,q=3552822;function $(e=null){U=new E({layout:e||S,autoDetectLayout:!e,availableLayouts:[S,O,P,L,T,H],fontFamily:i,fontTexture:w,fontSize:.035,backgroundColor:new t.Ilk(J),backgroundOpacity:1,backspaceTexture:l,shiftTexture:d,enterTexture:n}),U.position.set(0,.88,-1),U.rotation.x=-.55,A.add(U),W.addObject(U),Y=new z(U),Y.attach()}function ee(){c.ZP.update(),F.update(),W.update(),X.update(),N.render(A,M)}window.addEventListener("load",(function(){A=new t.xsS,A.background=new t.Ilk(5263440),M=new t.cPb(60,window.innerWidth/window.innerHeight,.1,100),N=new t.CP7({antialias:!0}),N.setPixelRatio(window.devicePixelRatio),N.setSize(window.innerWidth,window.innerHeight),N.outputEncoding=t.knz,N.xr.enabled=!0,document.body.appendChild(r.N.createButton(N)),document.body.appendChild(N.domElement),N.shadowMap.enabled=!0,X=new C.Z,X.dom.style.left="auto",X.dom.style.right="0px",document.body.appendChild(X.dom);const e=function(e){e||(e={});const s=e.x||2,a=e.y||10,r=e.z||-2,h=e.width||10,o=e.near||.1,c=e.far||30,i=e.bias||-0,w=e.resolution||2048,l=e.color||16777215,n=e.intensity||1,d=e.useHelpers||!1,C=e.castShadow||!0,p=new t.Ox3(l,n);p.position.set(s,a,r),p.castShadow=C;const u=h/2;if(p.shadow.camera.left=-u,p.shadow.camera.right=u,p.shadow.camera.top=u,p.shadow.camera.bottom=-u,p.shadow.camera.near=o,p.shadow.camera.far=c,p.shadow.mapSize.width=w,p.shadow.mapSize.height=w,p.shadow.bias=i,p.helpers=new t.ZAu,d){const e=new t.cBI(p,5),s=new t.Rki(p.shadow.camera);p.helpers.add(e,s)}return p}({z:10,width:6,bias:-1e-4}),s=new t.vmT(8421504,6316128);A.add(e,s),F=new h.z(M,N.domElement),M.position.set(0,1.6,0),F.target=new t.Pa4(0,1.2,-1),F.update(),R=new u(N),A.add(R.controllerGrips[0],R.controllers[0]),W=new k(M,A,N,R),V=new f(N.domElement),W.addListener(V);const a=new K(N.domElement);W.addListener(a),W.start();const l=new t.ejS(new o.d(6,6,6,10,10,10).translate(0,3,0),new t.nls({color:8421504}));D=new t.Kj0(new t.DvJ(6,6,6,10,10,10).translate(0,3,0),new t.vBJ({side:t._Li,transparent:!0,opacity:0})),A.add(l,D),function(){const e=new t.ZAu;e.position.set(0,1.4,-1.2),e.rotation.x=-.15,A.add(e);const s=new c.ZP.Block({fontFamily:i,fontTexture:w,width:1,height:.32,padding:.02,backgroundColor:new t.Ilk(Q),backgroundOpacity:1});s.position.set(0,-.15,0),e.add(s);const a=new c.ZP.Text({width:1,height:.1,justifyContent:"center",fontSize:.045,textContent:"Type some text on the keyboard"});Z=new c.ZP.Text({width:1,fontSize:.033,padding:.02,backgroundOpacity:0,textContent:""});new B(Z).attach(),s.add(a,Z);let r=[["English",S],["Nordic",T],["German",P],["Spanish",I],["French",O],["Russian",H],["Greek",L]];r=r.map((e=>{const s=new c.ZP.Text({name:"switch keyboard layout to "+e[0],width:"auto",padding:"0.01 0.05",margin:.012,justifyContent:"center",backgroundColor:new t.Ilk(q),backgroundOpacity:1,fontSize:.035,textContent:e[0]});return s.addEventListener("click",(()=>{U&&(W.removeObject(U),U.clear(),Y.detach(),Y=null);for(let e=0;e<r.length;e++){r[e].deactivatePseudoState("checked")}s.activatePseudoState("checked"),$(e[1])})),W.addObject(s),s})),G=new c.ZP.Block({fontFamily:i,fontTexture:w,padding:.02,width:1,backgroundColor:new t.Ilk(Q),backgroundOpacity:1}).add(new c.ZP.Text({justifyContent:"center",backgroundOpacity:0,fontSize:.04,textContent:"Select a keyboard layout :"}),new c.ZP.Block({height:.075,width:1,contentDirection:"row",justifyContent:"center",backgroundOpacity:0}).add(r[0],r[1],r[2],r[3]),new c.ZP.Block({height:.075,width:1,contentDirection:"row",justifyContent:"center",backgroundOpacity:0}).add(r[4],r[5],r[6])),G.position.set(0,.2,0),e.add(G),$()}(),N.setAnimationLoop(ee)})),window.addEventListener("resize",(function(){M.aspect=window.innerWidth/window.innerHeight,M.updateProjectionMatrix(),N.setSize(window.innerWidth,window.innerHeight)}))}},a={};function t(e){var r=a[e];if(void 0!==r)return r.exports;var h=a[e]={exports:{}};return s[e](h,h.exports,t),h.exports}t.m=s,e=[],t.O=(s,a,r,h)=>{if(!a){var o=1/0;for(l=0;l<e.length;l++){for(var[a,r,h]=e[l],c=!0,i=0;i<a.length;i++)(!1&h||o>=h)&&Object.keys(t.O).every((e=>t.O[e](a[i])))?a.splice(i--,1):(c=!1,h<o&&(o=h));if(c){e.splice(l--,1);var w=r();void 0!==w&&(s=w)}}return s}h=h||0;for(var l=e.length;l>0&&e[l-1][2]>h;l--)e[l]=e[l-1];e[l]=[a,r,h]},t.d=(e,s)=>{for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.j="ex__keyboard",(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var s=t.g.document;if(!e&&s&&(s.currentScript&&(e=s.currentScript.src),!e)){var a=s.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{var e={ex__keyboard:0};t.O.j=s=>0===e[s];var s=(s,a)=>{var r,h,[o,c,i]=a,w=0;if(o.some((s=>0!==e[s]))){for(r in c)t.o(c,r)&&(t.m[r]=c[r]);if(i)var l=i(t)}for(s&&s(a);w<o.length;w++)h=o[w],t.o(e,h)&&e[h]&&e[h][0](),e[h]=0;return t.O(l)},a=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))})();var r=t.O(void 0,["chunk_imported-assets","chunk_three-mesh-ui","chunk_vendors"],(()=>t("./examples/ex__keyboard.js")));r=t.O(r)})();