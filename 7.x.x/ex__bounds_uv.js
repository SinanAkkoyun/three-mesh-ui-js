(()=>{"use strict";var t,e={"./examples/ex__bounds_uv.js":(t,e,n)=>{var o=n("./node_modules/three/build/three.module.js"),a=n("./node_modules/three/examples/jsm/webxr/VRButton.js"),r=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),i=n("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),s=n("./src/three-mesh-ui.js");const d=n.p+"5286b2c75b5631e4c0ba8e26a6bf19f7.jpg",l=n.p+"ea04b023673693925b1f663635dbb0eb.png";var c=n("./node_modules/three/examples/jsm/libs/stats.module.js");class h extends s.cg{constructor(t,e,n="uv"){super(t),Array.isArray(e)||(e=[e]),this._targets=e,this._uvSet=n,this._actor=this.act.bind(this)}attach(){this._subject.addAfterUpdate(this._actor)}detach(){this._subject.removeAfterUpdate(this._actor)}act(){if(this._subject._backgroundMesh){const t=this._subject._backgroundMesh;t.geometry.computeBoundingBox();const e=t.geometry.boundingBox;e.applyMatrix4(t.matrixWorld);const n=e.max.x-e.min.x,a=e.max.y-e.min.y;for(let t=0;t<this._targets.length;t++){const e=this._targets[t];let r=[];r=e.isUI&&e.isText?[...e._children._inlines.filter((t=>t._fontMesh)).map((t=>t._fontMesh))]:[e];for(let t=0;t<r.length;t++){const e=r[t];if("Mesh"!==e.type)continue;const i=e.geometry.getAttribute("position"),s=e.geometry.getAttribute(this._uvSet),d=new o.Pa4;for(let t=0;t<i.count;t++)d.fromBufferAttribute(i,t),s.setXY(t,d.x/n+.5,d.y/a+.5);s.needsUpdate=!0}}}}}class u extends o.vBJ{static get mediation(){return s.tx.mediation}constructor(t={}){s.tx.ensureMaterialOptions(t),super(t),s.tx.ensureDefines(this),s.tx.ensureUserData(this,t),this.onBeforeCompile=t=>{s.tx.bindUniformsWithUserData(t,this),s.tx.injectVertexShaderChunks(t),t.fragmentShader=t.fragmentShader.replace("#include <uv_pars_fragment>","#include <uv_pars_fragment>\n"+s.sV.msdfAlphaglyphParsFragmentGlsl),t.fragmentShader=t.fragmentShader.replace("#include <alphamap_fragment>",s.sV.msdfAlphaglyphFragmentGlsl+"\n\n\t\t\t\t// still display a bit the outer of glyph\n\t\t\t\tif( diffuseColor.a <= 0.02 ) {\n\t\t\t\t\tdiffuseColor.a = 0.25;\n\t\t\t\t}\n\t\t\t\t#include <alphamap_fragment>\n")}}}const p={h:{yoffset:2},k:{yoffset:2},l:{yoffset:2},j:{yoffset:4.5},b:{yoffset:2},d:{yoffset:2}},f=window.innerWidth,m=window.innerHeight;let g,b,w,y,x,_,j,v,P;function k(){const t=s.ZP.FontLibrary.getFontFamily("Roboto");t.getVariant("700","normal").adjustTypographicGlyphs(p),t.getVariant("700","italic").adjustTypographicGlyphs(p),t.getVariant("400","italic").adjustTypographicGlyphs(p),t.getVariant("400","normal").adjustTypographicGlyphs(p),g=new o.xsS,g.background=new o.Ilk(5263440),b=new o.cPb(60,f/m,.1,100),w=new o.CP7({antialias:!0}),w.setPixelRatio(window.devicePixelRatio),w.setSize(f,m),w.xr.enabled=!0,document.body.appendChild(a.N.createButton(w)),document.body.appendChild(w.domElement),x=new c.Z,document.body.appendChild(x.dom),y=new r.z(b,w.domElement),b.position.set(0,1.6,0),y.target=new o.Pa4(0,1,-1.8),y.update();const e=new o.ejS(new i.d(6,6,6,10,10,10).translate(0,3,0),new o.nls({color:8421504}));g.add(e),function(){v=(new o.dpR).load(d),P=(new o.dpR).load(l,(t=>{t.wrapS=t.wrapT=o.rpg,t.repeat=new o.FM8(3,1),t.isLoaded=!0})),j=new s.ZP.Block({width:.75,height:.2,backgroundColor:16711680,backgroundOpacity:.25}),g.add(j),j.position.set(0,1,-2),j.rotation.x=-.55,window.boundingContainer=j,_=new s.ZP.Block({width:3.2,height:2.5,padding:.05,backgroundOpacity:0,justifyContent:"center",alignItems:"center",flexDirection:"column"}),_.position.set(0,1,-1.8),_.rotation.x=-.55,g.add(_);const t=new s.ZP.Text({width:1.5,height:.2,flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundSize:"stretch",fontFamily:"Roboto",color:16777215});_.add(t),t.add(new s.ZP.Inline({textContent:"BoundsUVBehavior obtains the UV from another geometry\n",fontWeight:"700"}),new s.ZP.Inline({textContent:"This example uses a custom material to show the whole glyph box",fontWeight:"400",fontSize:.04}));const e=new s.ZP.Block({width:3,height:1.15,flexDirection:"row",backgroundOpacity:0});_.add(e),e.add(B("without BoundsUVBehavior","Texture is stretched on each glyph",null)),e.add(B("BoundsUVBehavior from itself","Texture is stretched from first to last glyph","self")),e.add(B("BoundsUVBehavior from object","Here UVs are computed from the red box behind",j))}(),w.setAnimationLoop(C)}function B(t,e,n){const a=new s.ZP.Block({height:1.5,width:1,fontFamily:"Roboto",backgroundOpacity:0,fontSize:.25,justifyContent:"center",flexDirection:"column"});_.add(a);const r=new s.ZP.Text({width:.9,height:.15,justifyContent:"center"});a.add(r),r.add(new s.ZP.Inline({textContent:t+"\n",fontWeight:"700",color:16777215,fontSize:.055}),new s.ZP.Inline({textContent:e,fontWeight:"400",color:16777215,fontSize:.035}));const i=new s.ZP.Text({textContent:"map",color:new o.Ilk(16777215)});i.fontMaterial=new u({map:v});let d=new s.ZP.Block({width:.75,height:.3,backgroundOpacity:0});d.add(i),a.add(d);const l=new s.ZP.Text({textContent:"alpha",color:new o.Ilk(16777215)});l.fontMaterial=new u({alphaMap:P}),d=new s.ZP.Block({width:.75,height:.3,backgroundOpacity:0}),d.add(l),a.add(d);const c=new s.ZP.Text({textContent:"Both",color:new o.Ilk(16777215)});return c.fontMaterial=new u({map:v,alphaMap:P}),d=new s.ZP.Block({width:.75,height:.3,backgroundOpacity:0}),d.add(c),a.add(d),n&&("self"===n?(new h(i,i).attach(),new h(l,l).attach(),new h(c,c).attach()):new h(n,[i,l,c]).attach()),a}window.addEventListener("load",(function(){s.ZP.FontLibrary.prepare(s.ZP.FontLibrary.addFontFamily("Roboto").addVariant("400","normal","./assets/fonts/msdf/roboto/regular.json","./assets/fonts/msdf/roboto/regular.png").addVariant("700","italic","./assets/fonts/msdf/roboto/bold-italic.json","./assets/fonts/msdf/roboto/bold-italic.png").addVariant("700","normal","./assets/fonts/msdf/roboto/bold.json","./assets/fonts/msdf/roboto/bold.png").addVariant("400","italic","./assets/fonts/msdf/roboto/italic.json","./assets/fonts/msdf/roboto/italic.png")).then(k)})),window.addEventListener("resize",(function(){b.aspect=window.innerWidth/window.innerHeight,b.updateProjectionMatrix(),w.setSize(window.innerWidth,window.innerHeight)}));let S=.0025;function C(){let t=j.get("height");t+=S,t>=.6?(t=.6,S*=-1):t<=.15&&(t=.15,S*=-1),j.set({height:t}),s.ZP.update(),y.update(),w.render(g,b),x.update()}}},n={};function o(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,o),r.exports}o.m=e,t=[],o.O=(e,n,a,r)=>{if(!n){var i=1/0;for(c=0;c<t.length;c++){for(var[n,a,r]=t[c],s=!0,d=0;d<n.length;d++)(!1&r||i>=r)&&Object.keys(o.O).every((t=>o.O[t](n[d])))?n.splice(d--,1):(s=!1,r<i&&(i=r));if(s){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,a,r]},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.j="ex__bounds_uv",(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={ex__bounds_uv:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var a,r,[i,s,d]=n,l=0;if(i.some((e=>0!==t[e]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(d)var c=d(o)}for(e&&e(n);l<i.length;l++)r=i[l],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(c)},n=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var a=o.O(void 0,["chunk_three-mesh-ui","chunk_vendors"],(()=>o("./examples/ex__bounds_uv.js")));a=o.O(a)})();