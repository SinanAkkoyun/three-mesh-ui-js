(()=>{"use strict";var e,t={"./examples/dev__test_preparation.js":(e,t,n)=>{var o=n("./node_modules/three/build/three.module.js"),i=n("./node_modules/three/examples/jsm/webxr/VRButton.js"),r=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),a=n("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),s=n("./src/three-mesh-ui.js");class h extends s.cg{constructor(e,t=null){super(e);const n=new o._12(1,1),i=new o.TlE(new Float32Array(n.getAttribute("uv").array),2);n.setAttribute("uvB",i).name="uvB",this._overlay=new o.Kj0(n,new d({map:new o.xEZ,opacity:1,transparent:!0})),(new o.dpR).load("https://threejs.org/examples/textures/uv_grid_opengl.jpg",(e=>{this._texture=e,this._texture.matrixAutoUpdate=!0,this._texture.wrapS=this._texture.wrapT=o.rpg,this._overlay.material.map=this._texture,this.act(),t&&t(e)})),this._overlay.position.z=1e-4,this._actor=this.act.bind(this)}attach(){this._subject.add(this._overlay),this._subject.addAfterUpdate(this._actor),this.act()}detach(){this._subject.remove(this._overlay),this._subject.removeAfterUpdate(this._actor)}act(){const e=this._subject._margin._value,t=this._subject._borderWidth._value,n=this._subject._padding._value,o=this._subject._bounds._offsetWidth+e.w+e.y,i=this._subject._bounds._offsetHeight+e.x+e.z;0!==o&&0!==i&&(this._overlay.scale.set(o,i,1),this._overlay.position.x=-e.w/2+e.y/2,this._overlay.position.y=-e.z/2+e.x/2,this._overlay.material.userData.margin.value.set(1-e.x/i,1-e.y/o,e.z/i,e.w/o),this._overlay.material.userData.border.value.set(1-(e.x+t.x)/i,1-(e.y+t.y)/o,(e.z+t.z)/i,(e.w+t.w)/o),this._overlay.material.userData.padding.value.set(1-(e.x+t.x+n.x)/i,1-(e.y+t.y+n.y)/o,(e.z+t.z+n.z)/i,(e.w+t.w+n.w)/o),this._texture&&(this._texture.repeat.set(o,i),this._texture.offset.set(1-(e.w+t.w+n.w),-(e.z+t.z+n.z))))}clear(){this._overlay.geometry.dispose(),this._overlay.material.dispose()}set color(e){this._overlay.material.color.set(e)}}class d extends o.vBJ{constructor(e={}){super(e),this.userData.padding={value:new o.Ltg(0,0,0,0)},this.userData.margin={value:new o.Ltg(0,0,0,0)},this.userData.border={value:new o.Ltg(0,0,0,0)},this.onBeforeCompile=e=>{e.uniforms.margin=this.userData.margin,e.uniforms.padding=this.userData.padding,e.uniforms.border=this.userData.border,e.vertexShader=e.vertexShader.replace("#include <uv_pars_vertex>","#include <uv_pars_vertex>\n"+c),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>","#include <uv_vertex>\n"+l),e.fragmentShader=e.fragmentShader.replace("#include <uv_pars_fragment>","#include <uv_pars_fragment>\n"+u),e.fragmentShader=e.fragmentShader.replace("#include <alphamap_fragment>","#include <alphamap_fragment>\n"+p)}}}const c="\nattribute vec2 uvB;\nvarying vec2 vUvB;\n",l="\nvUvB = uvB;\n",u="\nvarying vec2 vUvB;\n\nuniform vec4 margin;\nuniform vec4 border;\nuniform vec4 padding;\n",p="\nif( vUvB.x < padding.w || vUvB.x > padding.y || vUvB.y > padding.x || vUvB.y < padding.z ) {\n\tdiffuseColor = vec4( 0.76, 0.815, 0.545, opacity );\n}else{\n\n\t// greyscale\n\t// float biggerColorComponent = diffuseColor.x;\n\t// biggerColorComponent = max( biggerColorComponent, diffuseColor.y );\n\t// biggerColorComponent = max( biggerColorComponent, diffuseColor.z );\n\t// diffuseColor.xyz = vec3( biggerColorComponent );\n\n\tdiffuseColor.a = 1.;\n}\n\nif( vUvB.x < border.w || vUvB.x > border.y || vUvB.y > border.x || vUvB.y < border.z ) {\n\tdiffuseColor = vec4( 0.992, 0.86, 0.588, opacity );\n}\n\nif( vUvB.x < margin.w || vUvB.x > margin.y || vUvB.y > margin.x || vUvB.y < margin.z ) {\n\tdiffuseColor = vec4( 0.98, 0.8, 0.592, opacity );\n}\n\nif( diffuseColor.a < 0.03 ) discard;\n\n";var g=n("./src/frame/utils/FrameMaterialUtils.js");class v extends o.vBJ{static get mediation(){return g.Z.mediation}constructor(e={}){g.Z.ensureMaterialOptions(e),super(e),g.Z.ensureDefines(this),g.Z.ensureUserData(this,e),this.onBeforeCompile=e=>{g.Z.bindUniformsWithUserData(e,this),g.Z.injectShaderChunks(e)}}}class f extends s.cg{constructor(e){super(e);const t=new o._12(.05,.05),n=new o.vBJ({color:16750848});this.anchorTL=new o.Kj0(t,n),this.anchorTC=new o.Kj0(t,n),this.anchorTR=new o.Kj0(t,n),this.anchorCL=new o.Kj0(t,n),this.anchorC=new o.Kj0(t,n),this.anchorCR=new o.Kj0(t,n),this.anchorBL=new o.Kj0(t,n),this.anchorBC=new o.Kj0(t,n),this.anchorBR=new o.Kj0(t,n),this.anchorTL.position.z=this.anchorTC.position.z=this.anchorTR.position.z=this.anchorCL.position.z=this.anchorC.position.z=this.anchorCR.position.z=this.anchorBL.position.z=this.anchorBC.position.z=this.anchorBR.position.z=.005,this._actor=this.act.bind(this)}attach(){this._subject.add(this.anchorTL,this.anchorTC,this.anchorTR,this.anchorCL,this.anchorC,this.anchorCR,this.anchorBL,this.anchorBC,this.anchorBR),this._subject.addAfterUpdate(this._actor),this.act()}detach(){this._subject.remove(this.anchorTL,this.anchorTC,this.anchorTR,this.anchorCL,this.anchorC,this.anchorCR,this.anchorBL,this.anchorBC,this.anchorBR),this._subject.removeAfterUpdate(this._actor)}act(){const e=this._subject._bounds,t=e._centerX-e._innerWidth/2,n=e._centerX+e._innerWidth/2,o=e._centerY+e._innerHeight/2,i=e._centerY-e._innerHeight/2;this.anchorTL.position.x=this.anchorCL.position.x=this.anchorBL.position.x=t,this.anchorTR.position.x=this.anchorCR.position.x=this.anchorBR.position.x=n,this.anchorTL.position.y=this.anchorTC.position.y=this.anchorTR.position.y=o,this.anchorBL.position.y=this.anchorBC.position.y=this.anchorBR.position.y=i,this.anchorC.position.set(e._centerX,e._centerY,this.anchorC.position.z),this.anchorTC.position.x=this.anchorBC.position.x=e._centerX,this.anchorCL.position.y=this.anchorCR.position.y=e._centerY}}const m=window.innerWidth,_=window.innerHeight;let w,b,x,y;function C(){s.ZP.update(),y.update(),x.render(w,b)}window.addEventListener("load",(function(){w=new o.xsS,w.background=new o.Ilk(5263440),b=new o.iKG(m/-2,m/2,_/2,_/-2,1,1e3),x=new o.CP7({antialias:!0}),x.setPixelRatio(window.devicePixelRatio),x.setSize(m,_),x.xr.enabled=!0,document.body.appendChild(i.N.createButton(x)),document.body.appendChild(x.domElement),b.position.set(0,1.6,0),b.zoom=750,b.updateProjectionMatrix(),window.camera=b,y=new r.z(b,x.domElement),y.target=new o.Pa4(0,1,-1.8),y.update();const e=new o.ejS(new a.d(6,6,6,10,10,10).translate(0,3,0),new o.nls({color:8421504}));w.add(e),function(){const e="0.1 0.5 0.2 0.2",t="row",n="center",i="center",r=new s.ZP.Block({width:1,height:1,padding:e,boxSizing:"border-box",flexDirection:t,justifyContent:n,alignItems:i,backgroundColor:new o.Ilk(16777215),backgroundImage:(new o.dpR).load("./assets/uv_grid.jpg"),fontSize:.055,fontFamily:"./assets/fonts/msdf/roboto/regular.json",fontTexture:"./assets/fonts/msdf/roboto/regular.png"});w.add(r),r.position.set(-.65,1,-1.8);const a=new s.ZP.Block({backgroundColor:new o.Ilk(0),width:.1,height:.1,margin:.1,padding:0,offset:.001});r.add(a,new s.ZP.Block({backgroundColor:new o.Ilk(0),width:.1,height:.1,margin:.1,padding:0,offset:.001})),new h(r).attach(),new f(r).attach();const d=new s.ZP.Block({width:1,height:1,padding:e,boxSizing:"content-box",flexDirection:t,justifyContent:n,alignItems:i,backgroundColor:new o.Ilk(16777215),backgroundImage:(new o.dpR).load("./assets/uv_grid.jpg"),backgroundSize:"stretch",fontSize:.055,fontFamily:"./assets/fonts/msdf/roboto/regular.json",fontTexture:"./assets/fonts/msdf/roboto/regular.png"});d.backgroundMaterial=new v({}),w.add(d),d.position.set(.65,1,-1.8);const c=new s.ZP.Block({backgroundColor:new o.Ilk(0),width:.1,height:.1,padding:0,offset:.001});d.add(c,new s.ZP.Block({backgroundColor:new o.Ilk(0),width:.1,height:.1,margin:"0.2 0 0 0.1",padding:0,offset:.001}),new s.ZP.Block({backgroundColor:new o.Ilk(0),width:.1,height:.1,padding:0,offset:.001})),new h(d).attach(),new f(d).attach(),d.addAfterUpdate((()=>{d.backgroundMaterial.map.matrixAutoUpdate=!0,d.backgroundMaterial.map.offset.set(-d._padding.w,-d._padding.z),d.backgroundMaterial.map.repeat.set(d.offsetWidth/d.innerWidth,d.offsetHeight/d.innerHeight)}))}(),x.setAnimationLoop(C)})),window.addEventListener("resize",(function(){b.aspect=window.innerWidth/window.innerHeight,b.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight)}))}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,n,i,r)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,i,r]=e[c],s=!0,h=0;h<n.length;h++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](n[h])))?n.splice(h--,1):(s=!1,r<a&&(a=r));if(s){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,i,r]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j="dev__test_preparation",(()=>{var e={dev__test_preparation:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var i,r,[a,s,h]=n,d=0;if(a.some((t=>0!==e[t]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(h)var c=h(o)}for(t&&t(n);d<a.length;d++)r=a[d],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=o.O(void 0,["chunk_three-mesh-ui","chunk_vendors"],(()=>o("./examples/dev__test_preparation.js")));i=o.O(i)})();