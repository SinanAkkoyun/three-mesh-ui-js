(()=>{"use strict";var e,t={"./examples/dev__test_preparation.js":(e,t,n)=>{var i=n("./node_modules/three/build/three.module.js"),o=n("./node_modules/three/examples/jsm/webxr/VRButton.js"),r=n("./node_modules/three/examples/jsm/controls/OrbitControls.js"),a=n("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),s=n("./src/three-mesh-ui.js"),h=n("./src/utils/Behavior.js");class d extends h.Z{constructor(e){super(e);const t=new i.BKK(1,1),n=new i.TlE(new Float32Array(t.getAttribute("uv").array),2);t.setAttribute("uvB",n).name="uvB",this._overlay=new i.Kj0(t,new c({map:new i.xEZ,opacity:1,transparent:!0})),(new i.dpR).load("https://threejs.org/examples/textures/uv_grid_opengl.jpg",(e=>{this._texture=e,this._texture.matrixAutoUpdate=!0,this._texture.wrapS=this._texture.wrapT=i.rpg,this._overlay.material.map=this._texture,this.act()})),this._overlay.position.z=1e-4,this._actor=this.act.bind(this)}attach(){this._subject.add(this._overlay),this._subject.addAfterUpdate(this._actor),this.act()}detach(){this._subject.remove(this._overlay),this._subject.removeAfterUpdate(this._actor)}act(){const e=this._subject._margin._value,t=this._subject._borderWidth._value,n=this._subject._padding._value,i=this._subject._bounds._offsetWidth+e.w+e.y,o=this._subject._bounds._offsetHeight+e.x+e.z;0!==i&&0!==o&&(this._overlay.scale.set(i,o,1),this._overlay.position.x=-e.w/2+e.y/2,this._overlay.position.y=-e.z/2+e.x/2,this._overlay.material.userData.margin.value.set(1-e.x/o,1-e.y/i,e.z/o,e.w/i),this._overlay.material.userData.border.value.set(1-(e.x+t.x)/o,1-(e.y+t.y)/i,(e.z+t.z)/o,(e.w+t.w)/i),this._overlay.material.userData.padding.value.set(1-(e.x+t.x+n.x)/o,1-(e.y+t.y+n.y)/i,(e.z+t.z+n.z)/o,(e.w+t.w+n.w)/i),this._texture&&(this._texture.repeat.set(i,o),this._texture.offset.set(1-(e.w+t.w+n.w),-(e.z+t.z+n.z))))}clear(){this._overlay.geometry.dispose(),this._overlay.material.dispose()}}class c extends i.vBJ{constructor(e={}){super(e),this.userData.padding={value:new i.Ltg(0,0,0,0)},this.userData.margin={value:new i.Ltg(0,0,0,0)},this.userData.border={value:new i.Ltg(0,0,0,0)},this.onBeforeCompile=e=>{e.uniforms.margin=this.userData.margin,e.uniforms.padding=this.userData.padding,e.uniforms.border=this.userData.border,e.vertexShader=e.vertexShader.replace("#include <uv_pars_vertex>","#include <uv_pars_vertex>\n"+u),e.vertexShader=e.vertexShader.replace("#include <uv_vertex>","#include <uv_vertex>\n"+l),e.fragmentShader=e.fragmentShader.replace("#include <uv_pars_fragment>","#include <uv_pars_fragment>\n"+p),e.fragmentShader=e.fragmentShader.replace("#include <alphamap_fragment>","#include <alphamap_fragment>\n"+v)}}}const u="\nattribute vec2 uvB;\nvarying vec2 vUvB;\n",l="\nvUvB = uvB;\n",p="\nvarying vec2 vUvB;\n\nuniform vec4 margin;\nuniform vec4 border;\nuniform vec4 padding;\n",v="\nif( vUvB.x < padding.w || vUvB.x > padding.y || vUvB.y > padding.x || vUvB.y < padding.z ) {\n\tdiffuseColor = vec4( 0.76, 0.815, 0.545, opacity );\n}else{\n\tdiffuseColor.a = 1.;\n}\n\nif( vUvB.x < border.w || vUvB.x > border.y || vUvB.y > border.x || vUvB.y < border.z ) {\n\tdiffuseColor = vec4( 0.992, 0.86, 0.588, opacity );\n}\n\nif( vUvB.x < margin.w || vUvB.x > margin.y || vUvB.y > margin.x || vUvB.y < margin.z ) {\n\tdiffuseColor = vec4( 0.98, 0.8, 0.592, opacity );\n}\n\nif( diffuseColor.a < 0.03 ) discard;\n\n";var g=n("./src/frame/utils/FrameMaterialUtils.js");class _ extends i.vBJ{static get mediation(){return g.Z.mediation}constructor(e={}){g.Z.ensureMaterialOptions(e),super(e),g.Z.ensureDefines(this),g.Z.ensureUserData(this,e),this.onBeforeCompile=e=>{g.Z.bindUniformsWithUserData(e,this),g.Z.injectShaderChunks(e)}}}class f extends s.cg{constructor(e){super(e);const t=new i._12(.05,.05),n=new i.vBJ({color:16750848});this.anchorTL=new i.Kj0(t,n),this.anchorTC=new i.Kj0(t,n),this.anchorTR=new i.Kj0(t,n),this.anchorCL=new i.Kj0(t,n),this.anchorC=new i.Kj0(t,n),this.anchorCR=new i.Kj0(t,n),this.anchorBL=new i.Kj0(t,n),this.anchorBC=new i.Kj0(t,n),this.anchorBR=new i.Kj0(t,n),this.anchorTL.position.z=this.anchorTC.position.z=this.anchorTR.position.z=this.anchorCL.position.z=this.anchorC.position.z=this.anchorCR.position.z=this.anchorBL.position.z=this.anchorBC.position.z=this.anchorBR.position.z=.005,this._actor=this.act.bind(this)}attach(){this._subject.add(this.anchorTL,this.anchorTC,this.anchorTR,this.anchorCL,this.anchorC,this.anchorCR,this.anchorBL,this.anchorBC,this.anchorBR),this._subject.addAfterUpdate(this._actor),this.act()}detach(){this._subject.remove(this.anchorTL,this.anchorTC,this.anchorTR,this.anchorCL,this.anchorC,this.anchorCR,this.anchorBL,this.anchorBC,this.anchorBR),this._subject.removeAfterUpdate(this._actor)}act(){const e=this._subject._bounds,t=e._centerX-e._innerWidth/2,n=e._centerX+e._innerWidth/2,i=e._centerY+e._innerHeight/2,o=e._centerY-e._innerHeight/2;this.anchorTL.position.x=this.anchorCL.position.x=this.anchorBL.position.x=t,this.anchorTR.position.x=this.anchorCR.position.x=this.anchorBR.position.x=n,this.anchorTL.position.y=this.anchorTC.position.y=this.anchorTR.position.y=i,this.anchorBL.position.y=this.anchorBC.position.y=this.anchorBR.position.y=o,this.anchorC.position.set(e._centerX,e._centerY,this.anchorC.position.z),this.anchorTC.position.x=this.anchorBC.position.x=e._centerX,this.anchorCL.position.y=this.anchorCR.position.y=e._centerY}}const w=window.innerWidth,m=window.innerHeight;let b,x,y,j;function B(){s.ZP.update(),j.update(),y.render(b,x)}window.addEventListener("load",(function(){b=new i.xsS,b.background=new i.Ilk(5263440),x=new i.iKG(w/-2,w/2,m/2,m/-2,1,1e3),y=new i.CP7({antialias:!0}),y.setPixelRatio(window.devicePixelRatio),y.setSize(w,m),y.xr.enabled=!0,document.body.appendChild(o.N.createButton(y)),document.body.appendChild(y.domElement),x.position.set(0,1.6,0),x.zoom=750,x.updateProjectionMatrix(),window.camera=x,j=new r.z(x,y.domElement),j.target=new i.Pa4(0,1,-1.8),j.update();const e=new i.ejS(new a.d(6,6,6,10,10,10).translate(0,3,0),new i.nls({color:8421504}));b.add(e),function(){const e="0.1 0.5 0.2 0.2",t="row",n="center",o="center",r=new s.ZP.Block({width:1,height:1,padding:e,boxSizing:"border-box",contentDirection:t,justifyContent:n,alignItems:o,backgroundColor:new i.Ilk(16777215),backgroundTexture:(new i.dpR).load("./assets/uv_grid.jpg"),fontSize:.055,fontFamily:"./assets/fonts/msdf/roboto/regular.json",fontTexture:"./assets/fonts/msdf/roboto/regular.png"});b.add(r),r.position.set(-.65,1,-1.8);const a=new s.ZP.Block({backgroundColor:new i.Ilk(0),width:.1,height:.1,margin:.1,padding:0,offset:.001});r.add(a,new s.ZP.Block({backgroundColor:new i.Ilk(0),width:.1,height:.1,margin:.1,padding:0,offset:.001})),new d(r).attach(),new f(r).attach(),r.addAfterUpdate((()=>{a.position.x,a.position.y}));const h=new s.ZP.Block({width:1,height:1,padding:e,boxSizing:"content-box",contentDirection:t,justifyContent:n,alignItems:o,backgroundColor:new i.Ilk(16777215),backgroundTexture:(new i.dpR).load("./assets/uv_grid.jpg"),backgroundSize:"stretch",fontSize:.055,fontFamily:"./assets/fonts/msdf/roboto/regular.json",fontTexture:"./assets/fonts/msdf/roboto/regular.png"});h.backgroundMaterial=new _({}),b.add(h),h.position.set(.65,1,-1.8);const c=new s.ZP.Block({backgroundColor:new i.Ilk(0),width:.1,height:.1,padding:0,offset:.001});h.add(c,new s.ZP.Block({backgroundColor:new i.Ilk(0),width:.1,height:.1,margin:"0.2 0 0 0.1",padding:0,offset:.001}),new s.ZP.Block({backgroundColor:new i.Ilk(0),width:.1,height:.1,padding:0,offset:.001})),new d(h).attach(),new f(h).attach(),h.addAfterUpdate((()=>{c.position.x,c.position.y,h.backgroundMaterial.map.matrixAutoUpdate=!0,h.backgroundMaterial.map.offset.set(-h._padding.w,-h._padding.z),h.backgroundMaterial.map.repeat.set(h.offsetWidth/h.innerWidth,h.offsetHeight/h.innerHeight)}))}(),y.setAnimationLoop(B)})),window.addEventListener("resize",(function(){x.aspect=window.innerWidth/window.innerHeight,x.updateProjectionMatrix(),y.setSize(window.innerWidth,window.innerHeight)}))}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,o,r)=>{if(!n){var a=1/0;for(c=0;c<e.length;c++){for(var[n,o,r]=e[c],s=!0,h=0;h<n.length;h++)(!1&r||a>=r)&&Object.keys(i.O).every((e=>i.O[e](n[h])))?n.splice(h--,1):(s=!1,r<a&&(a=r));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,o,r]},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j="dev__test_preparation",(()=>{var e={dev__test_preparation:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[a,s,h]=n,d=0;if(a.some((t=>0!==e[t]))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(h)var c=h(i)}for(t&&t(n);d<a.length;d++)r=a[d],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},n=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=i.O(void 0,["chunk_three-mesh-ui","chunk_vendors"],(()=>i("./examples/dev__test_preparation.js")));o=i.O(o)})();