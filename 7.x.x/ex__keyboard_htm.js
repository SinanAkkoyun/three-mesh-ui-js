(()=>{"use strict";var e,t={"./examples/ex__keyboard_htm.js":(e,t,s)=>{var a=s("./node_modules/three/build/three.module.js"),r=s("./node_modules/three/examples/jsm/webxr/VRButton.js"),i=s("./node_modules/three/examples/jsm/controls/OrbitControls.js"),o=s("./node_modules/three/examples/jsm/geometries/BoxLineGeometry.js"),c=s("./src/three-mesh-ui.js");var h=s("./examples/assets/fonts/msdf/roboto/regular.json");const n=s.p+"5a41f46a5020bc8f41ff554d0d890ad3.png",l=s.p+"98f066ce97dfe8963f569eb5d7d72a27.png",d=s.p+"c4248cca01ab209c0489119bcafe2411.png",w=s.p+"064ce0fb75dc91efe30a1d6d04b1b180.png";var u=s("./node_modules/three/examples/jsm/libs/stats.module.js");const p={type:"hover"};class C{constructor(e,t,s,r=null){this._camera=e,this._scene=t,this._renderer=s,this._vrControl=r,this._raycaster=new a.iMs,this._listeners=[],this._objectsToTest=[],this._target=null,this._mouse=null,this._selectState=!1,this._lastHoveredElement=null,this._lastSelectedElement=null}addListener(e){-1===this._listeners.indexOf(e)&&this._listeners.push(e)}removeListener(e){const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}start(e=null){if(this._target)throw new Error("InteractiveRaycaster::start() - is already started. Aborted.");e=e||window,this._target=e,this._mouse=new a.FM8,this._mouse.x=this._mouse.y=null,e.addEventListener("pointermove",this._pointerMove),e.addEventListener("pointerdown",this._selectStart),e.addEventListener("pointerup",this._selectEnd),e.addEventListener("touchstart",this._touchMove),e.addEventListener("touchend",this._touchEnd),this._vrControl&&(this._vrControl.controllers[0].addEventListener("selectstart",this._selectStart),this._vrControl.controllers[0].addEventListener("selectend",this._selectEnd))}_selectStart=()=>{this._selectState=!0};_selectEnd=()=>{this._click(),this._selectState=!1};_pointerMove=e=>{this._mouse.x=e.clientX/this._target.innerWidth*2-1,this._mouse.y=-e.clientY/this._target.innerHeight*2+1};_touchMove=e=>{this._selectStart(),this._mouse.x=e.touches[0].clientX/this._target.innerWidth*2-1,this._mouse.y=-e.touches[0].clientY/this._target.innerHeight*2+1};_touchEnd=e=>{this._selectEnd(),this._mouse.x=null,this._mouse.y=null};_setHoveredElement(e){this._lastHoveredElement&&this._lastHoveredElement.isUI&&this._lastHoveredElement.deactivatePseudoState("hover"),this._lastHoveredElement=e,null!==this._lastHoveredElement&&this._lastHoveredElement.isUI&&(this._lastHoveredElement.activatePseudoState("hover"),this._lastHoveredElement.dispatchEvent(p));for(let e=0;e<this._listeners.length;e++)this._listeners[e].hoveredElementHasChanged(this._lastHoveredElement)}_setSelectedElement(e){this._lastSelectedElement&&this._lastSelectedElement.isUI&&this._lastSelectedElement.deactivatePseudoState("active"),this._lastSelectedElement=e,null!==this._lastSelectedElement&&this._lastSelectedElement.isUI&&this._lastSelectedElement.activatePseudoState("active");for(let e=0;e<this._listeners.length;e++)this._listeners[e].selectedElementHasChanged(this._lastSelectedElement)}_click(){if(this._lastSelectedElement){this._lastSelectedElement._clicked(this._lastIntersectObject);for(let e=0;e<this._listeners.length;e++)this._listeners[e].clicked(this._lastSelectedElement)}}addObject(e){for(let e=0;e<arguments.length;e++){const t=arguments[e];let s;t.interactiveListener&&this.addListener(t.interactiveListener),s=t.interactiveObjects?t.interactiveObjects:[t];for(let e=0;e<s.length;e++){const t=s[e];t._clicked||(t._clicked=this._elementClicked),this._objectsToTest.push(t)}}}removeObject(e){for(let e=0;e<arguments.length;e++){const t=arguments[e];t.interactiveListener&&this.removeListener(t.interactiveListener);let s=[t];t.interactiveObjects&&(s=[...t.interactiveObjects]);for(let e=0;e<s.length;e++){const t=s[e],a=this._objectsToTest.indexOf(t);-1!==a&&this._objectsToTest.splice(a,1)}}}update(){let e;if(this._renderer.xr.isPresenting&&this._vrControl?(this._vrControl.setFromController(0,this._raycaster.ray),e=this._raycast(),e&&this._vrControl.setPointerAt(0,e.point)):null!==this._mouse.x&&null!==this._mouse.y&&(this._raycaster.setFromCamera(this._mouse,this._camera),e=this._raycast()),e){const t=e.object;this._lastIntersectObject=e,this._lastHoveredElement!==t&&this._setHoveredElement(t),this._selectState?this._lastSelectedElement!==t&&this._setSelectedElement(t):null!==this._lastSelectedElement&&this._setSelectedElement(null)}else null!==this._lastSelectedElement&&this._setSelectedElement(null),null!==this._lastHoveredElement&&this._setHoveredElement(null)}set camera(e){this._camera=e}get camera(){return this._camera}_raycast(){return this._objectsToTest.reduce(((e,t)=>{if(!this._scene.getObjectById(t.id))return e;const s=this._raycaster.intersectObject(t,!0);return s[0]&&(!e||s[0].distance<e.distance)?(s[0].object=t,s[0]):e}),null)}_elementClicked(e){delete e.object,e.type="click",this.dispatchEvent(e)}}class m{hoveredElementHasChanged(e){throw new Error("Abstract method need to be implemented.")}selectedElementHasChanged(e){throw new Error("Abstract method need to be implemented.")}clicked(e){throw new Error("Abstract method need to be implemented.")}}class _ extends m{constructor(e,t="crosshair"){super(),this._cursor=t,this._htmlElement=e,this._lastValue="inherit"}hoveredElementHasChanged(e){null!==e&&"inherit"===this._lastValue?(this._htmlElement.style.cursor=this._cursor,this._lastValue=this._cursor):null===e&&"inherit"!==this._lastValue&&(this._htmlElement.style.cursor="inherit",this._lastValue="inherit")}selectedElementHasChanged(e){}clicked(e){}}const b={locales:["en","en-GB","en-US"],charsetCount:1,keys:[[[{width:.1,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"l",upperCase:"L"}]}],[{width:.15,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"n",upperCase:"N"}]},{width:.1,chars:[{lowerCase:"m",upperCase:"M"}]},{width:.15,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},g={locales:["fr","fr-FR","fr-CH","fr-CA","fr-BE"],charsetCount:1,keys:[[[{width:.1,chars:[{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"l",upperCase:"L"}]},{width:.1,chars:[{lowerCase:"m",upperCase:"M"}]}],[{width:.2,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"n",upperCase:"N"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},f={locales:["de","de-DE","de-AT","de-LI","de-CH"],charsetCount:1,keys:[[[{width:1/11,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:1/11,chars:[{lowerCase:"w",upperCase:"W"}]},{width:1/11,chars:[{lowerCase:"e",upperCase:"E"}]},{width:1/11,chars:[{lowerCase:"r",upperCase:"R"}]},{width:1/11,chars:[{lowerCase:"t",upperCase:"T"}]},{width:1/11,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:1/11,chars:[{lowerCase:"u",upperCase:"U"}]},{width:1/11,chars:[{lowerCase:"i",upperCase:"I"}]},{width:1/11,chars:[{lowerCase:"o",upperCase:"O"}]},{width:1/11,chars:[{lowerCase:"p",upperCase:"P"}]},{width:1/11,chars:[{lowerCase:"ü",upperCase:"Ü"}]}],[{width:1/11,chars:[{lowerCase:"a",upperCase:"A"}]},{width:1/11,chars:[{lowerCase:"s",upperCase:"S"}]},{width:1/11,chars:[{lowerCase:"d",upperCase:"D"}]},{width:1/11,chars:[{lowerCase:"f",upperCase:"F"}]},{width:1/11,chars:[{lowerCase:"g",upperCase:"G"}]},{width:1/11,chars:[{lowerCase:"h",upperCase:"H"}]},{width:1/11,chars:[{lowerCase:"j",upperCase:"J"}]},{width:1/11,chars:[{lowerCase:"k",upperCase:"K"}]},{width:1/11,chars:[{lowerCase:"l",upperCase:"L"}]},{width:1/11,chars:[{lowerCase:"ö",upperCase:"Ö"}]},{width:1/11,chars:[{lowerCase:"ä",upperCase:"Ä"}]}],[{width:2/11,command:"capslock",chars:[{icon:"capslock"}]},{width:1/11,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:1/11,chars:[{lowerCase:"x",upperCase:"X"}]},{width:1/11,chars:[{lowerCase:"c",upperCase:"C"}]},{width:1/11,chars:[{lowerCase:"v",upperCase:"V"}]},{width:1/11,chars:[{lowerCase:"b",upperCase:"B"}]},{width:1/11,chars:[{lowerCase:"n",upperCase:"N"}]},{width:1/11,chars:[{lowerCase:"m",upperCase:"M"}]},{width:2/11,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},k={locales:["el"],charsetCount:2,keys:[[[{width:.1,chars:[{lowerCase:";",upperCase:":"},{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"ς",upperCase:"ς"},{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"ε",upperCase:"Ε"},{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"ρ",upperCase:"Ρ"},{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"τ",upperCase:"Τ"},{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"υ",upperCase:"Υ"},{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"θ",upperCase:"Θ"},{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"ι",upperCase:"Ι"},{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"ο",upperCase:"Ο"},{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"π",upperCase:"Π"},{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"α",upperCase:"Α"},{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"σ",upperCase:"Σ"},{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"δ",upperCase:"Δ"},{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"φ",upperCase:"Φ"},{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"γ",upperCase:"Γ"},{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"η",upperCase:"Η"},{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"ξ",upperCase:"Ξ"},{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"κ",upperCase:"Κ"},{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"λ",upperCase:"Λ"},{lowerCase:"l",upperCase:"L"}]}],[{width:.15,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"ζ",upperCase:"Ζ"},{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"χ",upperCase:"Χ"},{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"ψ",upperCase:"Ψ"},{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"ω",upperCase:"Ω"},{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"β",upperCase:"Β"},{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"ν",upperCase:"Ν"},{lowerCase:"n",upperCase:"N"}]},{width:.1,chars:[{lowerCase:"μ",upperCase:"Μ"},{lowerCase:"m",upperCase:"M"}]},{width:.15,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.15,command:"switch-set",chars:[{lowerCase:"eng"}]},{width:.15,command:"switch",chars:[{lowerCase:".?12"}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},y={locales:["sv","fi","no","dk","nord"],charsetCount:1,keys:[[[{width:1/11,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:1/11,chars:[{lowerCase:"w",upperCase:"W"}]},{width:1/11,chars:[{lowerCase:"e",upperCase:"E"}]},{width:1/11,chars:[{lowerCase:"r",upperCase:"R"}]},{width:1/11,chars:[{lowerCase:"t",upperCase:"T"}]},{width:1/11,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:1/11,chars:[{lowerCase:"u",upperCase:"U"}]},{width:1/11,chars:[{lowerCase:"i",upperCase:"I"}]},{width:1/11,chars:[{lowerCase:"o",upperCase:"O"}]},{width:1/11,chars:[{lowerCase:"p",upperCase:"P"}]},{width:1/11,chars:[{lowerCase:"å",upperCase:"Å"}]}],[{width:1/11,chars:[{lowerCase:"a",upperCase:"A"}]},{width:1/11,chars:[{lowerCase:"s",upperCase:"S"}]},{width:1/11,chars:[{lowerCase:"d",upperCase:"D"}]},{width:1/11,chars:[{lowerCase:"f",upperCase:"F"}]},{width:1/11,chars:[{lowerCase:"g",upperCase:"G"}]},{width:1/11,chars:[{lowerCase:"h",upperCase:"H"}]},{width:1/11,chars:[{lowerCase:"j",upperCase:"J"}]},{width:1/11,chars:[{lowerCase:"k",upperCase:"K"}]},{width:1/11,chars:[{lowerCase:"l",upperCase:"L"}]},{width:1/11,chars:[{lowerCase:"æ",upperCase:"Æ"}]},{width:1/11,chars:[{lowerCase:"ø",upperCase:"Ø"}]}],[{width:2/11,command:"capslock",chars:[{icon:"capslock"}]},{width:1/11,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:1/11,chars:[{lowerCase:"x",upperCase:"X"}]},{width:1/11,chars:[{lowerCase:"c",upperCase:"C"}]},{width:1/11,chars:[{lowerCase:"v",upperCase:"V"}]},{width:1/11,chars:[{lowerCase:"b",upperCase:"B"}]},{width:1/11,chars:[{lowerCase:"n",upperCase:"N"}]},{width:1/11,chars:[{lowerCase:"m",upperCase:"M"}]},{width:2/11,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},v={locales:["ru"],charsetCount:2,keys:[[[{width:1/12,chars:[{lowerCase:"й",upperCase:"Й"},{lowerCase:"q",upperCase:"Q"}]},{width:1/12,chars:[{lowerCase:"ц",upperCase:"Ц"},{lowerCase:"w",upperCase:"W"}]},{width:1/12,chars:[{lowerCase:"у",upperCase:"У"},{lowerCase:"e",upperCase:"E"}]},{width:1/12,chars:[{lowerCase:"к",upperCase:"К"},{lowerCase:"r",upperCase:"R"}]},{width:1/12,chars:[{lowerCase:"е",upperCase:"Е"},{lowerCase:"t",upperCase:"T"}]},{width:1/12,chars:[{lowerCase:"н",upperCase:"Н"},{lowerCase:"y",upperCase:"Y"}]},{width:1/12,chars:[{lowerCase:"г",upperCase:"Г"},{lowerCase:"u",upperCase:"U"}]},{width:1/12,chars:[{lowerCase:"ш",upperCase:"Ш"},{lowerCase:"i",upperCase:"I"}]},{width:1/12,chars:[{lowerCase:"щ",upperCase:"Щ"},{lowerCase:"o",upperCase:"O"}]},{width:1/12,chars:[{lowerCase:"з",upperCase:"З"},{lowerCase:"p",upperCase:"P"}]},{width:1/12,chars:[{lowerCase:"х",upperCase:"Х"},{lowerCase:"{",upperCase:"["}]},{width:1/12,chars:[{lowerCase:"ъ",upperCase:"Ъ"},{lowerCase:"}",upperCase:"]"}]}],[{width:1/12,chars:[{lowerCase:"ф",upperCase:"Ф"},{lowerCase:"a",upperCase:"A"}]},{width:1/12,chars:[{lowerCase:"ы",upperCase:"Ы"},{lowerCase:"s",upperCase:"S"}]},{width:1/12,chars:[{lowerCase:"в",upperCase:"В"},{lowerCase:"d",upperCase:"D"}]},{width:1/12,chars:[{lowerCase:"а",upperCase:"А"},{lowerCase:"f",upperCase:"F"}]},{width:1/12,chars:[{lowerCase:"п",upperCase:"П"},{lowerCase:"g",upperCase:"G"}]},{width:1/12,chars:[{lowerCase:"р",upperCase:"Р"},{lowerCase:"h",upperCase:"H"}]},{width:1/12,chars:[{lowerCase:"о",upperCase:"О"},{lowerCase:"j",upperCase:"J"}]},{width:1/12,chars:[{lowerCase:"л",upperCase:"Л"},{lowerCase:"k",upperCase:"K"}]},{width:1/12,chars:[{lowerCase:"д",upperCase:"Д"},{lowerCase:"l",upperCase:"L"}]},{width:1/12,chars:[{lowerCase:"ж",upperCase:"Ж"},{lowerCase:":",upperCase:";"}]},{width:1/12,chars:[{lowerCase:"э",upperCase:"Э"},{lowerCase:'"',upperCase:"'"}]},{width:1/12,chars:[{lowerCase:"ё",upperCase:"Ё"},{lowerCase:"|",upperCase:"\\"}]}],[{width:.125,command:"capslock",chars:[{icon:"capslock"}]},{width:1/12,chars:[{lowerCase:"я",upperCase:"Я"},{lowerCase:"z",upperCase:"Z"}]},{width:1/12,chars:[{lowerCase:"ч",upperCase:"Ч"},{lowerCase:"x",upperCase:"X"}]},{width:1/12,chars:[{lowerCase:"с",upperCase:"С"},{lowerCase:"c",upperCase:"C"}]},{width:1/12,chars:[{lowerCase:"м",upperCase:"М"},{lowerCase:"v",upperCase:"V"}]},{width:1/12,chars:[{lowerCase:"и",upperCase:"И"},{lowerCase:"b",upperCase:"B"}]},{width:1/12,chars:[{lowerCase:"т",upperCase:"Т"},{lowerCase:"n",upperCase:"N"}]},{width:1/12,chars:[{lowerCase:"ь",upperCase:"Ь"},{lowerCase:"m",upperCase:"M"}]},{width:1/12,chars:[{lowerCase:"б",upperCase:"Б"},{lowerCase:",",upperCase:""}]},{width:1/12,chars:[{lowerCase:"ю",upperCase:"Ю"},{lowerCase:".",upperCase:""}]},{width:.125,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.15,command:"switch-set",chars:[{lowerCase:"eng"}]},{width:.15,command:"switch",chars:[{lowerCase:".?12"}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.3,command:"switch",chars:[{lowerCase:"АБВ"}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]},x={locales:["es","es-419","es-AR","es-CL","es-CO","es-ES","es-CR","es-US","es-HN","es-MX","es-PE","es-UY","es-VE"],charsetCount:1,keys:[[[{width:.1,chars:[{lowerCase:"q",upperCase:"Q"}]},{width:.1,chars:[{lowerCase:"w",upperCase:"W"}]},{width:.1,chars:[{lowerCase:"e",upperCase:"E"}]},{width:.1,chars:[{lowerCase:"r",upperCase:"R"}]},{width:.1,chars:[{lowerCase:"t",upperCase:"T"}]},{width:.1,chars:[{lowerCase:"y",upperCase:"Y"}]},{width:.1,chars:[{lowerCase:"u",upperCase:"U"}]},{width:.1,chars:[{lowerCase:"i",upperCase:"I"}]},{width:.1,chars:[{lowerCase:"o",upperCase:"O"}]},{width:.1,chars:[{lowerCase:"p",upperCase:"P"}]}],[{width:.1,chars:[{lowerCase:"a",upperCase:"A"}]},{width:.1,chars:[{lowerCase:"s",upperCase:"S"}]},{width:.1,chars:[{lowerCase:"d",upperCase:"D"}]},{width:.1,chars:[{lowerCase:"f",upperCase:"F"}]},{width:.1,chars:[{lowerCase:"g",upperCase:"G"}]},{width:.1,chars:[{lowerCase:"h",upperCase:"H"}]},{width:.1,chars:[{lowerCase:"j",upperCase:"J"}]},{width:.1,chars:[{lowerCase:"k",upperCase:"K"}]},{width:.1,chars:[{lowerCase:"l",upperCase:"L"}]},{width:.1,chars:[{lowerCase:"ñ",upperCase:"Ñ"}]}],[{width:.15,command:"capslock",chars:[{icon:"capslock"}]},{width:.1,chars:[{lowerCase:"z",upperCase:"Z"}]},{width:.1,chars:[{lowerCase:"x",upperCase:"X"}]},{width:.1,chars:[{lowerCase:"c",upperCase:"C"}]},{width:.1,chars:[{lowerCase:"v",upperCase:"V"}]},{width:.1,chars:[{lowerCase:"b",upperCase:"B"}]},{width:.1,chars:[{lowerCase:"n",upperCase:"N"}]},{width:.1,chars:[{lowerCase:"m",upperCase:"M"}]},{width:.15,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]],[[{width:.1,chars:[{lowerCase:"1"}]},{width:.1,chars:[{lowerCase:"2"}]},{width:.1,chars:[{lowerCase:"3"}]},{width:.1,chars:[{lowerCase:"4"}]},{width:.1,chars:[{lowerCase:"5"}]},{width:.1,chars:[{lowerCase:"6"}]},{width:.1,chars:[{lowerCase:"7"}]},{width:.1,chars:[{lowerCase:"8"}]},{width:.1,chars:[{lowerCase:"9"}]},{width:.1,chars:[{lowerCase:"0"}]}],[{width:.1,chars:[{lowerCase:"@"}]},{width:.1,chars:[{lowerCase:"#"}]},{width:.1,chars:[{lowerCase:"|"}]},{width:.1,chars:[{lowerCase:"_"}]},{width:.1,chars:[{lowerCase:"&"}]},{width:.1,chars:[{lowerCase:"-"}]},{width:.1,chars:[{lowerCase:"+"}]},{width:.1,chars:[{lowerCase:"("}]},{width:.1,chars:[{lowerCase:")"}]},{width:.1,chars:[{lowerCase:"/"}]}],[{width:.1,chars:[{lowerCase:"="}]},{width:.1,chars:[{lowerCase:"*"}]},{width:.1,chars:[{lowerCase:'"'}]},{width:.1,chars:[{lowerCase:"'"}]},{width:.1,chars:[{lowerCase:":"}]},{width:.1,chars:[{lowerCase:";"}]},{width:.1,chars:[{lowerCase:"!"}]},{width:.1,chars:[{lowerCase:"?"}]},{width:.2,command:"backspace",chars:[{icon:"backspace"}]}],[{width:.2,command:"switch",chars:[{lowerCase:".?12"}]},{width:.1,chars:[{lowerCase:","}]},{width:.4,command:"space",chars:[{icon:"space"}]},{width:.1,chars:[{lowerCase:"."}]},{width:.2,command:"enter",chars:[{icon:"enter"}]}]]]};var E=s("./node_modules/three/examples/jsm/webxr/XRControllerModelFactory.js");function S(e){const t=[],s=[],r=new E.i,i=new a.vBJ({color:16777215,alphaMap:new a.ROQ(j()),transparent:!0}),o=new a.DvJ(.004,.004,.35);o.translate(0,0,-.15);const c=o.attributes.uv;for(let e=0;e<c.count;e++){let t=c.getX(e),s=c.getY(e);[t,s]=(()=>{switch(e){case 0:case 2:case 5:case 7:case 10:case 11:case 12:case 13:return[1,1];default:return[0,0]}})(),c.setXY(e,t,s)}const h=new a.Kj0(o,i);h.renderOrder=1/0;const n=new a.xeV({map:new a.ROQ(O()),sizeAttenuation:!1,depthTest:!1}),l=new a.jyi(n);l.scale.set(.015,.015,1),l.renderOrder=1/0;const d=e.xr.getController(0),w=e.xr.getController(1);d.name="controller-right",w.name="controller-left";const u=e.xr.getControllerGrip(0),p=e.xr.getControllerGrip(1);d&&t.push(d),w&&t.push(w),u&&s.push(u),p&&s.push(p),t.forEach((e=>{const t=h.clone(),s=l.clone();e.add(t,s),e.ray=t,e.point=s})),s.forEach((e=>{e.add(r.createControllerModel(e))}));const C=new a.yGw;return{controllers:t,controllerGrips:s,setFromController:function(e,s){const a=t[e];C.identity().extractRotation(a.matrixWorld),s.origin.setFromMatrixPosition(a.matrixWorld),s.direction.set(0,0,-1).applyMatrix4(C)},setPointerAt:function(e,s){const a=t[e],r=a.worldToLocal(s);a.point.position.copy(r),a.point.visible=!0}}}function j(){const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d"),s=t.createLinearGradient(0,0,64,0);return s.addColorStop(0,"black"),s.addColorStop(1,"white"),t.fillStyle=s,t.fillRect(0,0,64,64),e}function O(){const e=document.createElement("canvas");e.width=64,e.height=64;const t=e.getContext("2d");return t.beginPath(),t.arc(32,32,29,0,2*Math.PI),t.lineWidth=5,t.stroke(),t.fillStyle="white",t.fill(),e}const P=/((?:")([^"]*)(?:"))/g,L=/([ >~+]*)([^+>~ ]+)/g,A=/^[ >~+]+/,I=/(#)([\w_-]+)/,T=/(\.)([\w_-]+)/g,N=/(:)([A-z0-9\-_]*)/g,M=/^[^#\.:\[]*/g,B=/(\[([^\]]*)\])/g,U=/([^*~$^=]+)(([*~$^]?=)(.*))?/;class H{constructor(e,t=null){this._type=e,this._value=t}get type(){return this._type}get value(){return this._value}}class R extends H{constructor(e){super("attribute"),this._value=[];for(let t=0;t<e.length;t++)this._value.push(new z(e[t]))}get value(){return this._value}}class z{constructor(e){const t=(e=e.substring(1,e.length-1)).match(U);this.name=t[1],this.operator=t[3]||"!==",this.value=t[4]?function(e){e[0]!==e[e.length-1]||'"'!==e[0]&&"'"!==e[0]||(e=e.substring(1,e.length-1));return e}(t[4]):void 0}}class D extends H{constructor(e,t){super(e),this._value=[];for(let e=0;e<t.length;e++)this._value.push(t[e].substring(1))}get value(){return this._value}}class K{constructor(e){const t=e.match(A);this._query=e,this._combinator=t?t[0].trim():null,this._conditions=function(e){const t=[],s=e.match(B);s&&t.push(new R(s));const a=(e=e.replace(B,"")).match(I);a&&t.push(new H("id",a[2]));const r=e.match(T);r&&t.push(new D("class",r));const i=e.match(N);i&&t.push(new D("pseudoClass",i));const o=e.replace(A,"").match(M,"");o&&o[0]&&t.push(new H("tag",o[0]));return t}(e.replace(A,""))}get conditions(){return this._conditions}get combinator(){return this._combinator}get query(){return this._query}match(e){return this._conditions.every((t=>{switch(t.type){case"id":return e.elementID===t.value;case"class":return e.classList.containsEvery(t.value);case"pseudoClass":return e.pseudoClassList.containsEvery(t.value);case"tag":return e.tagName===t.value;case"attribute":return e.attributes.matchEvery(t.value);default:return console.warn(`CSSQuerySegment::match() - '${t.type}' is not implemented!`),!0}}))}}class F extends Array{constructor(...e){super(...e)}match(e){const t=this[this.length-1];if(!t.match(e))return!1;if(1===this.length)return!0;const s=[];let a=e;for(;a.parentUI;)s.push(a.parentUI),a=a.parentUI;if(0===s.length)return!1;let r=e,i=null;for(let e=this.length-2;e>=0;e--){const a=this[e];if(0===s.length)return!1;if(i=s.shift(),t.combinator&&""!==t.combinator){if(">"===t.combinator){if(!a.match(i))return!1;r=i}else if("~"===t.combinator||"+"===t.combinator){const e=i.childrenUIs.indexOf(r);let s;s="~"===t.combinator?i.childrenUIs.slice(e+1):i.childrenUIs.slice(e+1,e+2);for(let e=0;e<s.length;e++)if(a.match(s[e])){r=i;break}}}else{for(;!a.match(i);){if(0===s.length)return!1;if(s.length<e+1)return!1;i=s.shift()}r=i}}return!0}static build(e){const t=e.matchAll(P),s=e.split("");for(const e of t)for(let t=0;t<e[1].length;t++)s[e.index+t]="_";const a=s.join("").matchAll(L);if(!a)return[];const r=[];for(const e of a)r.push(e.index);r.push(e.length);const i=new F;for(let t=0;t<r.length-1;t++)i.push(new K(e.substring(r[t],r[t+1])));return i}}class V{constructor(e,t,s=null){this._query=F.build(e),this._specificity=function(e){e instanceof F||(e=F.build(e));let t=0;for(let s=0;s<e.length;s++){const a=e[s];for(let e=0;e<a.conditions.length;e++){const s=a.conditions[e];switch(s.type){case"id":t+=1e4;break;case"class":case"pseudoClass":case"attribute":t+=100*s.value.length;break;default:t+=1}}}return t}(this._query),this._order=0,this._styles={};for(let e=0;e<t.length;e++){const r=t[e];let i=t[r];if(i.match(/rem|px|em/g)&&(i=parseFloat(i.replace(/rem|px|em/g,""))),-1!==r.indexOf("color"))if(0===i.indexOf("rgba")){const e=i.match(/([\d\.]+)/g);if(4===e.length){let s=r.replace("color","opacity");"opacity"===s&&(s="fontOpacity"),t[s]&&""!==t[s]||(this._styles[Z(s)]=parseFloat(e[3]))}i=new a.Ilk(`rgb(${e[0]},${e[1]},${e[2]})`)}else i=new a.Ilk(i);let o=Z(r);s&&s[o]&&(o=s[o]),this._styles[o]=i}this._enabled=!0}get enabled(){return this._enabled}set enabled(e){this._enabled=e}get query(){return this._query}get specificity(){return this._specificity}get order(){return this._order}set order(e){this._order=e}get styles(){return this._styles}}function Z(e){return e.replace(/-./g,(e=>e[1].toUpperCase()))}class W{constructor(e){this._condition=e,this._rules=[],this._matchMediaQuery=window.matchMedia(e)}addRule(e){this._rules.push(e)}init(e){this._callback=e,this._matchMediaQuery.addEventListener("change",this.handleMatchMediaChanges),this._matchMediaQuery.matches||this.disableRules()}enableRules(){for(const e of this._rules)e.enabled=!0}disableRules(){for(const e of this._rules)e.enabled=!1}handleMatchMediaChanges=e=>{e.matches?this.enableRules():this.disableRules(),this._callback()}}var q=s("./src/components/core/UpdateManager.js");class ${constructor(e,...t){this._callback=e,this._tokens=[...t]}clear(){this._tokens=[],this._callback()}contains=e=>-1!==this._tokens.indexOf(e);containsAll=(...e)=>e.every(this.contains);containsEvery=e=>e.every(this.contains);toggle(e){this.contains(e)?this.remove(e):this.add(e)}add(...e){for(const t of e)this.contains(t)||(this._tokens.push(t),this._callback())}remove(...e){for(const t of e){const e=this._tokens.indexOf(t);-1!==e&&(this._tokens.splice(e,1),this._callback())}}toString(e){return this._tokens.length?e+this._tokens.join(e):""}dispose(){this.containsEvery=null,this.containsAll=null,this._callback=null,this._tokens=null}}class G{constructor(e,t={}){this._callback=e,this._map=new Map;for(const e in t)this.set(e,t[e])}clear(){this._map.clear()}set(e,t=null){void 0===t&&this.remove(e),this._map.set(e,t),this._callback()}get(e){return this._map.get(e)}remove(e){const t=this._map.delete(e);return this._callback(),t}has(e){return this._map.has(e)}toString(){let e="";const t=this._map.entries();for(const[s,a]of t)e+=a?`[${s}="${a}"]`:`[${s}]`;return e}match=e=>{const t=e.name,s=e.value,a=e.operator;let r;switch(a){case"=":return r=this._map.get(t),r&&r===s;case"^=":return r=this._map.get(t),r&&r.startsWith(s);case"*=":return r=this._map.get(t),r&&r.includes(s);case"$=":return r=this._map.get(t),r&&r.endsWith(s);case"!==":return this._map.has(t);default:console.warn(`NamedMap::match() - The provided operator '${a}' is not implemented`)}};matchEvery=e=>e.every(this.match);dispose(){this._callback=!1,this._map.clear(),this._map=null,this._map=null}}var Q=s("./src/elements/html/properties/StylePropertyWrapper.js"),X=s("./src/elements/html/properties/StyleComputedPropertyWrapper.js");class Y extends c.FV{constructor(e,t){const s=t.tagName;if(delete t.tagName,!s)throw new Error("HyperThreeMesh::Element - Requires a tagName property.");super(e,t),this._elementID=null,this._classList=new $($e),this._pseudoClassList=new $($e),this._attributes=new G($e),this._tagName=s,this._styles=new Q.Z(this),this._computedStyles=new X.Z(this)}set elementID(e){this._elementID=e,$e()}get elementID(){return this._elementID}get tagName(){return this._tagName}get attributes(){return this._attributes}get style(){return this._styles}get computedStyle(){return this._computedStyles}setAttribute(e,t=null){this._attributes.set(e,t)}getAttribute(e){return this._attributes.get(e)}hasAttribute(e){return this._attributes.has(e)}removeAttribute(e){this._attributes.remove(e)}get classList(){return this._classList}get pseudoClassList(){return this._pseudoClassList}copyAttributes(){let e=this._tagName;return this._elementID&&(e+=`#${this._elementID}`),e+=this._classList.toString("."),e+=this._attributes.toString(),e+=this._pseudoClassList.toString(":"),e}pasteAttributes(e){e instanceof K||(e=new K(e)),this._elementID=null,this._classList.clear(),this._pseudoClassList.clear(),this._attributes.clear();for(let t=0;t<e.conditions.length;t++){const s=e.conditions[t];switch(s.type){case"tag":""===this._tagName&&(this._tagName=s.value);continue;case"id":this._elementID=s.value;continue;case"class":for(let e=0;e<s.value.length;e++)this._classList.add(s.value[e]);continue;case"pseudoClass":for(let e=0;e<s.value.length;e++)this._pseudoClassList.add(s.value[e]);continue;case"attribute":for(let e=0;e<s.value.length;e++){const t=s.value[e];this._attributes.set(t.name,t.value)}}}return this}activatePseudoState(e){"hover"!==e&&"disabled"!==e&&this.hasAttribute("disabled")||this._pseudoClassList.add(e)}deactivatePseudoState(e){this._pseudoClassList.remove(e)}togglePseudoState(e){this._pseudoClassList.toggle(e)}hasPseudoState(e){return this._pseudoClassList.contains(e)}querySelectorAll(e){return ge(e,this)}clear(){return this._styles.dispose(),this._styles=null,this._computedStyles.dispose(),this._computedStyles=null,super.clear()}}var J=s("./src/elements/basic/BoxElement.js");class ee extends Y{constructor(e={},t={}){J.Z.definePropertiesValues(e,t),super(e,t),J.Z.init(this)}bindBackgroundMeshProperties(){this._bounds._size=this._backgroundMesh.scale,this._bounds._needsProcess=!0}unbindBackgroundMeshProperties(){this._bounds._size=new a.Pa4(1,1,1),this._bounds._needsProcess=!0}}var te=s("./src/elements/basic/TextElement.js"),se=s("./src/elements/basic/InlineElement.js");class ae extends Y{constructor(e={}){const t={};se.Z.definePropertiesValues(t,e),super(t,e),se.Z.init(this)}add(e){const t=[];for(let e=0;e<arguments.length;e++){const s=arguments[e];!s.isUI||s.isInline?(t.push(s),s.position.z=.005):console.warn("Block element can only contain Box elements.",s)}return super.add(...t)}_rebuildParentUI=()=>{super._rebuildParentUI(),this._layouter._needsUpdate=!0};set textContent(e){this._textContent.value=e}get textContent(){return this._textContent._value}set invertAlpha(e){this._invertAlpha.value=e}get invertAlpha(){return this._invertAlpha._value}}class re extends ee{constructor(e={}){const t={};te.Z.definePropertiesValues(t,e),super(t,e),te.Z.init(this)}add(e){const t=[];let s=!1;for(let e=0;e<arguments.length;e++){const a=arguments[e];!a.isUI||a.isInline?(a.isInline&&(s=!0),t.push(a)):console.warn("Block element can only contain Box elements.",a)}return t.length>0&&super.add(...t),s&&(this._layouter._needsProcess=!0),this}set textContent(e){for(let e=this.children.length-1;e>=0;e--){const t=this.children[e];t.isUI&&(this.remove(t),t.clear())}e&&this.add(new ae({tagName:"anonymous-span",textContent:e}))}get textContent(){return super.textContent}set invertAlpha(e){this._invertAlpha.value=e}get invertAlpha(){return this._invertAlpha._value}get lines(){return this._layouter._value}}var ie=s("./src/elements/basic/BlockElement.js");class oe extends ee{constructor(e={}){const t={};ie.Z.definePropertiesValues(t,e),super(t,e),ie.Z.init(this)}add(e){const t=[];for(let e=0;e<arguments.length;e++){const s=arguments[e];!s.isUI||s.isBox?t.push(s):console.warn("Block element can only contain Box elements.",s)}return super.add(...t)}}class ce extends m{constructor(e){super(),this._keyboard=e,this._texts=[]}bindText(e){this._texts.push(e)}unbindText(e){const t=this._texts.indexOf(e);-1!==t&&this._texts.splice(t,1)}clicked(e){if(-1!==this._keyboard.keys.indexOf(e))if(e.info.command)switch(e.info.command){case"switch":this._keyboard.setNextPanel();break;case"switch-set":this._keyboard.setNextCharset();break;case"enter":for(let e=0;e<this._texts.length;e++){const t=this._texts[e];t.set({textContent:t.textContent+"\n"})}break;case"space":for(let e=0;e<this._texts.length;e++){const t=this._texts[e];t.set({textContent:t.textContent+" "})}break;case"backspace":for(let e=0;e<this._texts.length;e++){const t=this._texts[e];t.textContent.length&&t.set({textContent:t.textContent.substring(0,t.textContent.length-1)||""})}break;case"capslock":e.togglePseudoState("checked"),this._keyboard.toggleCase()}else if(e.info.input)for(let t=0;t<this._texts.length;t++){const s=this._texts[t];s.set({textContent:s.textContent+e.info.input})}}hoveredElementHasChanged(e){}selectedElementHasChanged(e){}}const he=new a.dpR;class ne extends c.gO{constructor(e={}){ne.ensureOptions(e),super(),ne.make(this,e)}_buildPanel(){const e=new c.gO({});return e.charset=0,e}_buildKey(e,t){return new c.xv({name:e})}_buildBlock(){return new c.gO({})}_buildKeyInline(e,t){return new c.gF({name:e})}_buildKeyInlineBlock(e,t){return new c.ol({name:e})}static ensureOptions(e){e.width||(e.width=1),e.height||(e.height=.4),e.margin||(e.margin=.003),e.padding||(e.padding=.01)}static make(e,t){if(e.currentPanel=0,e.isLowerCase=!0,e._layout=null,t.autoDetectLayout&&t.availableLayouts&&t.availableLayouts.length>0){const s=navigator.language;let a=null;s&&(a=t.availableLayouts.find((e=>-1!==e.locales.indexOf(s)))),e._layout=a}e._layout||(e._layout=t.layout),e.charsetCount=e._layout.charsetCount,e.keys=[],({panels:e.panels,keys:e.keys}=ne.build(e,e._layout,t)),e.add(e.panels[0]),e._interactiveListener=new ce(e),Object.defineProperty(e,"interactiveListener",{get:()=>e._interactiveListener});for(const t of e.keys)t._clicked=de;Object.defineProperty(e,"interactiveObjects",{get:()=>e.keys}),e.setNextPanel=ne._setNextPanel.bind(e),e.setNextCharset=ne._setNextCharset.bind(e),e.toggleCase=ne._toggleCase.bind(e)}static build(e,t,s){const a=[],r=[];for(let i=0;i<t.keys.length;i++){const o=t.keys[i],c=s.height/o.length-2*s.margin,h=e._buildPanel();h.set({boxSizing:"border-box",width:s.width+2*s.padding,height:s.height+2*s.padding,offset:.001,padding:s.padding,fontFamily:s.fontFamily,fontTexture:s.fontTexture,backgroundColor:s.backgroundColor,backgroundOpacity:s.backgroundOpacity}),h.charset=0,a.push(h);for(let t=0;t<o.length;t++){const a=o[t],i=e._buildBlock();i.set({width:s.width,height:c,margin:s.margin,flexDirection:"row",justifyContent:"center"}),h.add(i);for(let t=0;t<a.length;t++){const o=a[t],n=o.chars[h.charset].lowerCase||o.chars[h.charset].icon||"und",l=e._buildKey(n,o);l.set({boxSizing:"border-box",width:s.width*o.width-2*s.margin,height:c,margin:s.margin,alignItems:"center",textAlign:"center",backgroundColor:0,backgroundOpacity:.8}),r.push(l),i.add(l),l.type="Key",l.info=o,l.info.input=n,l.panel=h;let d=null;if("enter"===n&&s.enterTexture||"capslock"===n&&s.shiftTexture||"backspace"===n&&s.backspaceTexture){const t=(()=>{switch(n){case"backspace":return s.backspaceTexture;case"enter":return s.enterTexture;case"capslock":return s.shiftTexture;default:console.warn("There is no icon image for this key")}})();he.load(t,(t=>{d=e._buildKeyInlineBlock(n,o),d.raycast=le,d.set({width:.65*c,height:.65*c,backgroundSize:"contain",backgroundImage:t,backgroundColor:16777215}),l.add(d)}))}else d=e._buildKeyInline(n,o),d.raycast=le,d.set({textContent:n}),l.add(d)}}}return{panels:a,keys:r}}static _setNextPanel(){this.panels.forEach((e=>{this.remove(e)})),this.currentPanel=(this.currentPanel+1)%this.panels.length,this.add(this.panels[this.currentPanel])}static _setNextCharset(){this.panels[this.currentPanel].charset=(this.panels[this.currentPanel].charset+1)%this.charsetCount,this.keys.forEach((e=>{if(!this.panels[this.currentPanel].getObjectById(e.id))return;const t=e.info.chars[e.panel.charset]||e.info.chars[0];let s=this.isLowerCase||!t.upperCase?t.lowerCase:t.upperCase;if(s||(s=t.icon),!e._children._inlines.length)return;const a=e._children._inlines[0];a.isInlineBlock||(e.info.input=s,a.set({textContent:s}))}))}static _toggleCase(){this.isLowerCase=!this.isLowerCase,this.keys.forEach((e=>{const t=e.info.chars[e.panel.charset]||e.info.chars[0];let s=this.isLowerCase||!t.upperCase?t.lowerCase:t.upperCase;if(s||(s=t.icon),!e._children._inlines.length)return;const a=e._children._inlines[0];a.isInlineBlock||(e.info.input=s,a.set({textContent:s}))}))}}function le(){}function de(){}class we extends oe{constructor(e){ne.ensureOptions(e),super({tagName:"keyboard"}),ne.make(this,e);const t=["enter","shift","backspace"];for(let e=0;e<this.keys.length;e++){const s=this.keys[e];-1!==t.indexOf(s.info.input)?s.setAttribute("type","icon"):s.setAttribute("type","char")}}_buildPanel(){const e=new Te("div",{tagName:"panel"});return e.charset=0,e}_buildBlock(){return Te("div")}_buildKey(e,t){const s=Te("button",{tagName:"key",name:e});return s.setAttribute("input",e),s}_buildKeyInline(e,t){return Te("span",{tagName:"anonymous-span",name:e})}_buildKeyInlineBlock(e,t){return Te("icon",{name:e})}}class ue extends Y{constructor(e={}){const t={};c.ol.definePropertiesValues(t,e),super(t,e),c.ol.init(this)}clear(){for(const e of this._inlines._value)e.clear();return super.clear()}bindBackgroundMeshProperties(){this._bounds._size=this._backgroundMesh.scale,this._bounds._needsUpdate=!0}unbindBackgroundMeshProperties(){this._bounds._size=new a.Pa4(1,1,1),this._bounds._needsUpdate=!0}add(e){const t=[];for(let e=0;e<arguments.length;e++){const s=arguments[e];s.isUI?console.warn("ThreeMeshUI::InlineBlockElement cannot contains UI Elements.",s):(t.push(s),s.position.z=.005)}return super.add(...t)}}class pe extends re{constructor(e={}){const t=e.value?e.value:"";super(e),this.setAttribute("value",t)}set value(e){this.setAttribute("value",e)}get value(){return this.getAttribute("value")}set disabled(e){e?(this.setAttribute("disabled",null),this.activatePseudoState("disabled")):(this.removeAttribute("disabled"),this.deactivatePseudoState("disabled"))}get disabled(){return this.hasAttribute("disabled")}}const Ce={};class me{constructor(e){this._name=e,this._elements=[],Ce[e]=this}add(e){-1===this._elements.indexOf(e)&&this._elements.push(e)}remove(e){const t=this._elements.indexOf(e);-1!==t&&this._elements.splice(t,1)}}class _e extends pe{constructor(e={}){const t=e.group?e.group:"default";let s=null;e.textContent&&(s=e.textContent,delete e.textContent);let a=null;void 0!==e.value&&(a=e.value,delete e.value),super(e),this.setAttribute("type","toggle"),this.setAttribute("value",a),this._group=function(e,t=!1){return!Ce[e]&&t?new me(e):Ce[e]}(t,!0),this._group.add(this),this._ascent=new ue({tagName:"ascent",borderRadius:.015,borderWidth:.008,borderColor:16711833,backgroundColor:0,margin:.01}),this._label=new ae({tagName:"label"}),this.add(this._ascent,this._label),s&&(this.textContent=s)}clear(){return this._group.remove(this),super.clear()}_clicked(e){this.hasAttribute("checked")?(this.removeAttribute("checked"),this.deactivatePseudoState("checked")):(this.setAttribute("checked",null),this.activatePseudoState("checked")),this.dispatchEvent({type:"change",value:this.getAttribute("value")}),e.type="click",this.dispatchEvent(e)}set checked(e){this.setAttribute("checked",null)}get checked(){return this.hasAttribute("checked")}set textContent(e){this._label.textContent=e}get textContent(){return this._label.textContent}get label(){return this._label}}class be extends _e{constructor(e={}){super(e),this.attributes.set("type","radio")}_clicked(e){if(!this.hasAttribute("checked")){for(const e of this._group._elements)e.hasAttribute("checked")&&(e.removeAttribute("checked"),e.deactivatePseudoState("checked"),e.value,e.checked,e.copyAttributes());this.checked,this.setAttribute("checked",null),this.activatePseudoState("checked"),this.checked,this.dispatchEvent({type:"change",value:this.getAttribute("value")}),e.type="click",this.dispatchEvent(e)}}}function ge(e,t=null){e instanceof F||(e=F.build(e)),t||(t=q.Z.elements),Array.isArray(t)||(t=[t]);let s=[];for(let a=0;a<t.length;a++)s=s.concat(fe(t[a],e));for(let e=s.length-1;e>=0;e--){s.indexOf(s[e])!==e&&s.splice(e,1)}return s}function fe(e,t,s=!0){let a=[];if(s)for(let s=0;s<e._children._uis.length;s++)a=a.concat(fe(e._children._uis[s],t));if(t[0].match(e)){if(1===t.length)return a.push(e),a;const s=t.slice(1);if(s&&""!==s)if(s[0].combinator&&""!==s[0].combinator)if(">"===s[0].combinator)for(let t=0;t<e._children._uis.length;t++)a=a.concat(fe(e._children._uis[t],s,!1));else{if(!e._parent._value||"~"!==s[0].combinator&&"+"!==s[0].combinator)throw new Error(`UIDocument::querySelectorAll() - The provided css combinator('${s[0].combinator}') is not implemented`);{const t=e._parent._value,r=t._children._uis.indexOf(e);let i;i="~"===s[0].combinator?t._children._uis.slice(r+1):t._children._uis.slice(r+1,r+2);for(let e=0;e<i.length;e++)a=a.concat(fe(i[e],s,!1))}}else for(let t=0;t<e._children._uis.length;t++)a=a.concat(fe(e._children._uis[t],s))}return a}let ke=[],ye=[],ve=[],xe="three-mesh-ui";function Ee(e="three-mesh-ui",t=!1){if(xe=e,t&&document){for(let e=0;e<ve.length;e++){let t=ve[e];t.disconnect(),t=null}ve=[],function(e){const t=new MutationObserver(Se);t.observe(e,{childList:!0,subtree:!0}),ve.push(t)}(document.documentElement);const t=document.querySelectorAll(`link[media="${e}"],style[media="${e}"]`);for(let e=0;e<t.length;e++)Oe(t[e])}if(ke=[],ye=[],document&&document.styleSheets){for(const t of document.styleSheets)if(t.media.mediaText===e){const{rules:e,conditions:s}=Ie(t.cssRules);ke=ke.concat(e),ye=ye.concat(s)}for(let e=0;e<ke.length;e++)ke[e].order=e;ke.sort(Le);for(const e of ye)e.init((()=>{qe=!0}))}Pe()}function Se(e){let t=!1;e.forEach((function(e){for(let s=0;s<e.addedNodes.length;s++)je(e.addedNodes[s])&&(t=!0);for(let s=0;s<e.removedNodes.length;s++)je(e.removedNodes[s])&&(t=!0)})),t&&Ee(!0)}function je(e){return"LINK"===e.tagName||"STYLE"===e.tagName&&e.getAttribute("media")===xe}function Oe(e){const t=new MutationObserver((function(e){Ee(xe,!0)}));t.observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0,characterDataOldValue:!0}),ve.push(t)}function Pe(){for(const e of ke){if(!e.enabled)continue;const t=ge(e.query);for(const s of t)s.set(e.styles)}}function Le(e,t){return e.specificity<t.specificity?-1:e.specificity>t.specificity?1:e.order<t.order?-1:e.order>t.order?1:0}const Ae={rx:"offset",offsetDistance:"offset"};function Ie(e,t=null){let s=[],a=null,r=[];t&&""!==t&&(a=new W(t),r.push(a));for(let i=0;i<e.length;i++){const o=e[i];if(o.selectorText){const e=new V(o.selectorText,o.style,Ae);s.push(e),a&&a.addRule(e)}else if(o.conditionText){let e=t;e&&""!==e?e+=` and ${o.conditionText}`:e=o.conditionText;const{rules:a,conditions:i}=Ie(o.cssRules,e);s=s.concat(a),r=r.concat(i)}}return{rules:s,conditions:r}}function Te(e,t={}){switch(t.tagName||(t.tagName=e),e.toLowerCase().replace(/\d/g,"")){case"p":case"h":case"label":return new re(t);case"button":return new pe(t);case"toggle":return t.tagName="button",new _e(t);case"radio":return t.tagName="button",new be(t);case"div":case"li":case"footer":case"header":return new oe(t);case"span":case"em":case"strong":case"sup":case"sub":case"small":case"link":return new ae(t);case"icon":return new ue(t);case"keyboard":return new we(t);default:throw new Error("HyperTextMesh::createElement() - The provided tagname is not implemented")}}let Ne,Me,Be,Ue,He,Re,ze,De,Ke,Fe,Ve,Ze,We,qe=!0;function $e(){qe=!0}class Ge extends c.cg{constructor(e){super(e)}act(){}attach(){window.document.addEventListener("keyup",this._onKeyboardEvent)}detach(){window.document.removeEventListener("keyup",this._onKeyboardEvent)}_onKeyboardEvent=e=>{switch(e.key.toLowerCase()){case"enter":this._subject.set({textContent:this._subject.textContent+"\n"});break;case"space":this._subject.set({textContent:this._subject.textContent+" "});break;case"delete":case"backspace":const t=this._subject;if(!t.textContent.length)break;t.set({textContent:t.textContent.substring(0,t.textContent.length-1)||""});break;default:let s=e.key;s=s.replace("numpad",""),1===s.length&&this._subject.set({textContent:this._subject.textContent+s})}}}class Qe extends c.cg{constructor(e){super(e)}act(){}attach(){window.document.addEventListener("keydown",this._onKeyDown),window.document.addEventListener("keyup",this._onKeyUp)}detach(){window.document.removeEventListener("keydown",this._onKeyDown),window.document.removeEventListener("keyup",this._onKeyUp)}_onKeyDown=e=>{let t=e.key.toLowerCase();switch(" "===t&&(t="space"),"delete"===t&&(t="backspace"),t){case"space":case"backspace":case"capslock":case"enter":const s=this._subject.getObjectByName(t);s&&s.isUI&&s.activatePseudoState("active");break;default:const a=this._subject.getObjectByName(e.key);a&&a.isUI&&a.activatePseudoState("active")}};_onKeyUp=e=>{let t=e.key.toLowerCase();switch(" "===t&&(t="space"),"delete"===t&&(t="backspace"),t){case"capslock":const s=this._subject.getObjectByName(t);s&&s.isUI&&(s.togglePseudoState("checked"),s.deactivatePseudoState("active"));break;case"backspace":case"space":case"enter":const a=this._subject.getObjectByName(t);a&&a.isUI&&a.deactivatePseudoState("active");break;default:const r=this._subject.getObjectByName(e.key);r&&r.isUI&&r.deactivatePseudoState("active")}}}const Xe=8750469,Ye=2500134,Je=3552822;function et(e=null){Re=Te("keyboard",{layout:e||b,autoDetectLayout:!e,availableLayouts:[b,g,f,k,y,v],fontFamily:h,fontTexture:n,fontSize:.035,backgroundColor:new a.Ilk(Xe),backgroundOpacity:1,backspaceTexture:l,shiftTexture:w,enterTexture:d}),Re.position.set(0,.88,-1),Re.rotation.x=-.55,Re.interactiveListener.bindText(ze),Ne.add(Re),window.keyboard=Re,Fe.addObject(Re),We=new Qe(Re),We.attach()}function tt(){c.ZP.update(),qe&&(Pe(),qe=!1),Ue.update(),Fe.update(),Ze.update(),Be.render(Ne,Me)}!function(e,t="three-mesh-ui"){const s=document.createElement("style");s.setAttribute("media",t),s.textContent=e,document.head.appendChild(s)}("\n\n.layout-selector{\n\tbackground-color: rgba(0,0,0,0.8);\n}\n.layout-selector:checked{\n\tbackground-color: rgba(0,256,128,0.8);\n}\n\nkeyboard panel{\n\tborder-radius : 0.0125rem;\n}\n\nkeyboard key {\n\tborder-radius: 0.01rem;\n\tbackground-color: rgba(0,0,0,0.9);\n\trx: 0.005rem;\n}\nkeyboard key icon{\n\tbackground-color: rgba(255,255,255,0.5);\n}\n\nkeyboard key:hover {\n\tbackground-color : rgba(32,32,32,0.5);\n\trx: 0.0085rem;\n}\n\nkeyboard key:checked {\n\tbackground-color : rgba(0,255,128,0.5);\n}\n\nkeyboard key:checked:hover {\n\tbackground-color : rgba(0,255,128,0.7);\n}\n\nkeyboard key:active {\n\tbackground-color : rgba(16,16,16,0.5);\n\trx: 0.0025rem;\n}\n\nkeyboard key:active icon {\n\tbackground-color : rgba(255,255,255,0.99);\n}\n\nkeyboard key:checked icon {\n\tbackground-color : rgba(255,255,255,0.99);\n}\n\n\n\n"),window.addEventListener("load",(function(){Ne=new a.xsS,Ne.background=new a.Ilk(5263440),Me=new a.cPb(60,window.innerWidth/window.innerHeight,.1,100),Be=new a.CP7({antialias:!0}),Be.setPixelRatio(window.devicePixelRatio),Be.setSize(window.innerWidth,window.innerHeight),Be.outputEncoding=a.knz,Be.xr.enabled=!0,document.body.appendChild(r.N.createButton(Be)),document.body.appendChild(Be.domElement),Be.shadowMap.enabled=!0,Ze=new u.Z,Ze.dom.style.left="auto",Ze.dom.style.right="0px",document.body.appendChild(Ze.dom);const e=function(e){e||(e={});const t=e.x||2,s=e.y||10,r=e.z||-2,i=e.width||10,o=e.near||.1,c=e.far||30,h=e.bias||-0,n=e.resolution||2048,l=e.color||16777215,d=e.intensity||1,w=e.useHelpers||!1,u=e.castShadow||!0,p=new a.Ox3(l,d);p.position.set(t,s,r),p.castShadow=u;const C=i/2;if(p.shadow.camera.left=-C,p.shadow.camera.right=C,p.shadow.camera.top=C,p.shadow.camera.bottom=-C,p.shadow.camera.near=o,p.shadow.camera.far=c,p.shadow.mapSize.width=n,p.shadow.mapSize.height=n,p.shadow.bias=h,p.helpers=new a.ZAu,w){const e=new a.cBI(p,5),t=new a.Rki(p.shadow.camera);p.helpers.add(e,t)}return p}({z:10,width:6,bias:-1e-4}),t=new a.vmT(8421504,6316128);Ne.add(e,t),Ue=new i.z(Me,Be.domElement),Me.position.set(0,1.6,0),Ue.target=new a.Pa4(0,1.2,-1),Ue.update(),He=new S(Be),Ne.add(He.controllerGrips[0],He.controllers[0]),Fe=new C(Me,Ne,Be,He),Ve=new _(Be.domElement),Fe.addListener(Ve),Fe.start();const s=new a.ejS(new o.d(6,6,6,10,10,10).translate(0,3,0),new a.nls({color:8421504}));De=new a.Kj0(new a.DvJ(6,6,6,10,10,10).translate(0,3,0),new a.vBJ({side:a._Li,transparent:!0,opacity:0})),Ne.add(s,De),function(){const e=new a.ZAu;e.position.set(0,1.4,-1.2),e.rotation.x=-.15,Ne.add(e);const t=Te("div",{fontFamily:h,fontTexture:n,width:1,height:.32,padding:.02,backgroundColor:new a.Ilk(Ye),backgroundOpacity:1});t.position.set(0,-.15,0),e.add(t);const s=Te("h3",{width:1,height:.1,justifyContent:"center",fontSize:.045,textContent:"Type some text on the keyboard"});ze=Te("p",{width:1,fontSize:.033,padding:.02,backgroundOpacity:0,textContent:""});new Ge(ze).attach(),t.add(s,ze);let r=[["English",b],["Nordic",y],["German",f],["Spanish",x],["French",g],["Russian",v],["Greek",k]];r=r.map((e=>{const t=Te("button",{width:"auto",padding:"0.01 0.05",margin:.012,justifyContent:"center",backgroundColor:new a.Ilk(Je),backgroundOpacity:1,fontSize:.035,textContent:e[0]});return t.classList.add("layout-selector"),t.addEventListener("click",(()=>{Re&&(Fe.removeObject(Re),Re.clear(),We.detach(),We=null);const s=ge(".layout-selector:checked");for(let e=0;e<s.length;e++){s[e].deactivatePseudoState("checked")}t.activatePseudoState("checked"),et(e[1])})),Fe.addObject(t),t})),Ke=Te("div",{fontFamily:h,fontTexture:n,padding:.02,width:1,backgroundColor:new a.Ilk(Ye),backgroundOpacity:1}).add(Te("p",{justifyContent:"center",backgroundOpacity:0,fontSize:.04,textContent:"Select a keyboard layout :"}),Te("div",{height:.075,width:1,flexDirection:"row",justifyContent:"center",backgroundOpacity:0}).add(r[0],r[1],r[2],r[3]),Te("div",{height:.075,width:1,flexDirection:"row",justifyContent:"center",backgroundOpacity:0}).add(r[4],r[5],r[6])),Ke.position.set(0,.2,0),e.add(Ke),et()}(),Be.setAnimationLoop(tt),Ee()})),window.addEventListener("resize",(function(){Me.aspect=window.innerWidth/window.innerHeight,Me.updateProjectionMatrix(),Be.setSize(window.innerWidth,window.innerHeight)}))}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var i=s[e]={exports:{}};return t[e](i,i.exports,a),i.exports}a.m=t,e=[],a.O=(t,s,r,i)=>{if(!s){var o=1/0;for(l=0;l<e.length;l++){for(var[s,r,i]=e[l],c=!0,h=0;h<s.length;h++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](s[h])))?s.splice(h--,1):(c=!1,i<o&&(o=i));if(c){e.splice(l--,1);var n=r();void 0!==n&&(t=n)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[s,r,i]},a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.j="ex__keyboard_htm",(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={ex__keyboard_htm:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var r,i,[o,c,h]=s,n=0;if(o.some((t=>0!==e[t]))){for(r in c)a.o(c,r)&&(a.m[r]=c[r]);if(h)var l=h(a)}for(t&&t(s);n<o.length;n++)i=o[n],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(l)},s=self.webpackChunkthree_mesh_ui=self.webpackChunkthree_mesh_ui||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var r=a.O(void 0,["chunk_imported-assets","chunk_three-mesh-ui","chunk_vendors"],(()=>a("./examples/ex__keyboard_htm.js")));r=a.O(r)})();